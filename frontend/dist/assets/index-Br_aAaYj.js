(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Gd={exports:{}},Ki={},Qd={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),ig=Symbol.for("react.portal"),og=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),lg=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),ug=Symbol.for("react.context"),dg=Symbol.for("react.forward_ref"),fg=Symbol.for("react.suspense"),hg=Symbol.for("react.memo"),pg=Symbol.for("react.lazy"),zc=Symbol.iterator;function mg(e){return e===null||typeof e!="object"?null:(e=zc&&e[zc]||e["@@iterator"],typeof e=="function"?e:null)}var Jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yd=Object.assign,Xd={};function fr(e,t,n){this.props=e,this.context=t,this.refs=Xd,this.updater=n||Jd}fr.prototype.isReactComponent={};fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zd(){}Zd.prototype=fr.prototype;function xl(e,t,n){this.props=e,this.context=t,this.refs=Xd,this.updater=n||Jd}var Sl=xl.prototype=new Zd;Sl.constructor=xl;Yd(Sl,fr.prototype);Sl.isPureReactComponent=!0;var Bc=Array.isArray,ef=Object.prototype.hasOwnProperty,El={current:null},tf={key:!0,ref:!0,__self:!0,__source:!0};function nf(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ef.call(t,r)&&!tf.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ms,type:e,key:i,ref:o,props:s,_owner:El.current}}function gg(e,t){return{$$typeof:ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ms}function yg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $c=/\/+/g;function Io(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yg(""+e.key):t.toString(36)}function qs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ms:case ig:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Io(o,0):r,Bc(s)?(n="",e!=null&&(n=e.replace($c,"$&/")+"/"),qs(s,t,n,"",function(c){return c})):s!=null&&(kl(s)&&(s=gg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($c,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Bc(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Io(i,a);o+=qs(i,t,n,l,s)}else if(l=mg(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Io(i,a++),o+=qs(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ns(e,t,n){if(e==null)return e;var r=[],s=0;return qs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function vg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},Ks={transition:null},wg={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Ks,ReactCurrentOwner:El};function rf(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Ns,forEach:function(e,t,n){Ns(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ns(e,function(){t++}),t},toArray:function(e){return Ns(e,function(t){return t})||[]},only:function(e){if(!kl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=fr;M.Fragment=og;M.Profiler=lg;M.PureComponent=xl;M.StrictMode=ag;M.Suspense=fg;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg;M.act=rf;M.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=El.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ef.call(t,l)&&!tf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ms,type:e.type,key:s,ref:i,props:r,_owner:o}};M.createContext=function(e){return e={$$typeof:ug,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cg,_context:e},e.Consumer=e};M.createElement=nf;M.createFactory=function(e){var t=nf.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:dg,render:e}};M.isValidElement=kl;M.lazy=function(e){return{$$typeof:pg,_payload:{_status:-1,_result:e},_init:vg}};M.memo=function(e,t){return{$$typeof:hg,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Ks.transition;Ks.transition={};try{e()}finally{Ks.transition=t}};M.unstable_act=rf;M.useCallback=function(e,t){return ke.current.useCallback(e,t)};M.useContext=function(e){return ke.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};M.useEffect=function(e,t){return ke.current.useEffect(e,t)};M.useId=function(){return ke.current.useId()};M.useImperativeHandle=function(e,t,n){return ke.current.useImperativeHandle(e,t,n)};M.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return ke.current.useMemo(e,t)};M.useReducer=function(e,t,n){return ke.current.useReducer(e,t,n)};M.useRef=function(e){return ke.current.useRef(e)};M.useState=function(e){return ke.current.useState(e)};M.useSyncExternalStore=function(e,t,n){return ke.current.useSyncExternalStore(e,t,n)};M.useTransition=function(){return ke.current.useTransition()};M.version="18.3.1";Qd.exports=M;var C=Qd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg=C,Sg=Symbol.for("react.element"),Eg=Symbol.for("react.fragment"),kg=Object.prototype.hasOwnProperty,_g=xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ig={key:!0,ref:!0,__self:!0,__source:!0};function sf(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kg.call(t,r)&&!Ig.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Sg,type:e,key:i,ref:o,props:s,_owner:_g.current}}Ki.Fragment=Eg;Ki.jsx=sf;Ki.jsxs=sf;Gd.exports=Ki;var u=Gd.exports,of={exports:{}},Be={},af={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,O){var D=R.length;R.push(O);e:for(;0<D;){var J=D-1>>>1,ee=R[J];if(0<s(ee,O))R[J]=O,R[D]=ee,D=J;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],D=R.pop();if(D!==O){R[0]=D;e:for(var J=0,ee=R.length,Sr=ee>>>1;J<Sr;){var pe=2*(J+1)-1,Er=R[pe],yt=pe+1,Ln=R[yt];if(0>s(Er,D))yt<ee&&0>s(Ln,Er)?(R[J]=Ln,R[yt]=D,J=yt):(R[J]=Er,R[pe]=D,J=pe);else if(yt<ee&&0>s(Ln,D))R[J]=Ln,R[yt]=D,J=yt;else break e}}return O}function s(R,O){var D=R.sortIndex-O.sortIndex;return D!==0?D:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,m=null,p=3,x=!1,y=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=R)r(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(c)}}function w(R){if(S=!1,g(R),!y)if(n(l)!==null)y=!0,Le(_);else{var O=n(c);O!==null&&xr(w,O.startTime-R)}}function _(R,O){y=!1,S&&(S=!1,h(N),N=-1),x=!0;var D=p;try{for(g(O),m=n(l);m!==null&&(!(m.expirationTime>O)||R&&!H());){var J=m.callback;if(typeof J=="function"){m.callback=null,p=m.priorityLevel;var ee=J(m.expirationTime<=O);O=e.unstable_now(),typeof ee=="function"?m.callback=ee:m===n(l)&&r(l),g(O)}else r(l);m=n(l)}if(m!==null)var Sr=!0;else{var pe=n(c);pe!==null&&xr(w,pe.startTime-O),Sr=!1}return Sr}finally{m=null,p=D,x=!1}}var I=!1,k=null,N=-1,b=5,A=-1;function H(){return!(e.unstable_now()-A<b)}function Oe(){if(k!==null){var R=e.unstable_now();A=R;var O=!0;try{O=k(!0,R)}finally{O?Ie():(I=!1,k=null)}}else I=!1}var Ie;if(typeof d=="function")Ie=function(){d(Oe)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,wr=oe.port2;oe.port1.onmessage=Oe,Ie=function(){wr.postMessage(null)}}else Ie=function(){v(Oe,0)};function Le(R){k=R,I||(I=!0,Ie())}function xr(R,O){N=v(function(){R(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,Le(_))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var D=p;p=O;try{return R()}finally{p=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var D=p;p=R;try{return O()}finally{p=D}},e.unstable_scheduleCallback=function(R,O,D){var J=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?J+D:J):D=J,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=D+ee,R={id:f++,callback:O,priorityLevel:R,startTime:D,expirationTime:ee,sortIndex:-1},D>J?(R.sortIndex=D,t(c,R),n(l)===null&&R===n(c)&&(S?(h(N),N=-1):S=!0,xr(w,D-J))):(R.sortIndex=ee,t(l,R),y||x||(y=!0,Le(_))),R},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(R){var O=p;return function(){var D=p;p=O;try{return R.apply(this,arguments)}finally{p=D}}}})(lf);af.exports=lf;var Tg=af.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng=C,ze=Tg;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cf=new Set,Qr={};function An(e,t){sr(e,t),sr(e+"Capture",t)}function sr(e,t){for(Qr[e]=t,e=0;e<t.length;e++)cf.add(t[e])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=Object.prototype.hasOwnProperty,Cg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hc={},Vc={};function bg(e){return ha.call(Vc,e)?!0:ha.call(Hc,e)?!1:Cg.test(e)?Vc[e]=!0:(Hc[e]=!0,!1)}function Rg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pg(e,t,n,r){if(t===null||typeof t>"u"||Rg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var _l=/[\-:]([a-z])/g;function Il(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_l,Il);he[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_l,Il);he[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_l,Il);he[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tl(e,t,n,r){var s=he.hasOwnProperty(t)?he[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pg(t,n,s,r)&&(n=null),r||s===null?bg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jt=Ng.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cs=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),Nl=Symbol.for("react.strict_mode"),pa=Symbol.for("react.profiler"),uf=Symbol.for("react.provider"),df=Symbol.for("react.context"),Cl=Symbol.for("react.forward_ref"),ma=Symbol.for("react.suspense"),ga=Symbol.for("react.suspense_list"),bl=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),ff=Symbol.for("react.offscreen"),Wc=Symbol.iterator;function kr(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,To;function jr(e){if(To===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);To=t&&t[1]||""}return`
`+To+e}var No=!1;function Co(e,t){if(!e||No)return"";No=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{No=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jr(e):""}function Ag(e){switch(e.tag){case 5:return jr(e.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 2:case 15:return e=Co(e.type,!1),e;case 11:return e=Co(e.type.render,!1),e;case 1:return e=Co(e.type,!0),e;default:return""}}function ya(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Un:return"Fragment";case Mn:return"Portal";case pa:return"Profiler";case Nl:return"StrictMode";case ma:return"Suspense";case ga:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case df:return(e.displayName||"Context")+".Consumer";case uf:return(e._context.displayName||"Context")+".Provider";case Cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bl:return t=e.displayName||null,t!==null?t:ya(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return ya(e(t))}catch{}}return null}function jg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ya(t);case 8:return t===Nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Og(e){var t=hf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bs(e){e._valueTracker||(e._valueTracker=Og(e))}function pf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function va(e,t){var n=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mf(e,t){t=t.checked,t!=null&&Tl(e,"checked",t,!1)}function wa(e,t){mf(e,t);var n=tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xa(e,t.type,n):t.hasOwnProperty("defaultValue")&&xa(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xa(e,t,n){(t!=="number"||fi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Or=Array.isArray;function Qn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(Or(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tn(n)}}function gf(e,t){var n=tn(t.value),r=tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ea(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rs,vf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lg=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(e){Lg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mr[t]=Mr[e]})});function wf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mr.hasOwnProperty(e)&&Mr[e]?(""+t).trim():t+"px"}function xf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Dg=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(e,t){if(t){if(Dg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function _a(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ia=null;function Rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ta=null,Jn=null,Yn=null;function Jc(e){if(e=vs(e)){if(typeof Ta!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Xi(t),Ta(e.stateNode,e.type,t))}}function Sf(e){Jn?Yn?Yn.push(e):Yn=[e]:Jn=e}function Ef(){if(Jn){var e=Jn,t=Yn;if(Yn=Jn=null,Jc(e),t)for(e=0;e<t.length;e++)Jc(t[e])}}function kf(e,t){return e(t)}function _f(){}var bo=!1;function If(e,t,n){if(bo)return e(t,n);bo=!0;try{return kf(e,t,n)}finally{bo=!1,(Jn!==null||Yn!==null)&&(_f(),Ef())}}function Yr(e,t){var n=e.stateNode;if(n===null)return null;var r=Xi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Na=!1;if(Tt)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Na=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Na=!1}function Mg(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Ur=!1,hi=null,pi=!1,Ca=null,Ug={onError:function(e){Ur=!0,hi=e}};function Fg(e,t,n,r,s,i,o,a,l){Ur=!1,hi=null,Mg.apply(Ug,arguments)}function zg(e,t,n,r,s,i,o,a,l){if(Fg.apply(this,arguments),Ur){if(Ur){var c=hi;Ur=!1,hi=null}else throw Error(T(198));pi||(pi=!0,Ca=c)}}function jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yc(e){if(jn(e)!==e)throw Error(T(188))}function Bg(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Yc(s),e;if(i===r)return Yc(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Nf(e){return e=Bg(e),e!==null?Cf(e):null}function Cf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cf(e);if(t!==null)return t;e=e.sibling}return null}var bf=ze.unstable_scheduleCallback,Xc=ze.unstable_cancelCallback,$g=ze.unstable_shouldYield,Hg=ze.unstable_requestPaint,ne=ze.unstable_now,Vg=ze.unstable_getCurrentPriorityLevel,Pl=ze.unstable_ImmediatePriority,Rf=ze.unstable_UserBlockingPriority,mi=ze.unstable_NormalPriority,Wg=ze.unstable_LowPriority,Pf=ze.unstable_IdlePriority,Gi=null,ut=null;function qg(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Gi,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:Qg,Kg=Math.log,Gg=Math.LN2;function Qg(e){return e>>>=0,e===0?32:31-(Kg(e)/Gg|0)|0}var Ps=64,As=4194304;function Lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Lr(a):(i&=o,i!==0&&(r=Lr(i)))}else o=n&~s,o!==0?r=Lr(o):i!==0&&(r=Lr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-et(t),s=1<<n,r|=e[n],t&=~s;return r}function Jg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yg(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-et(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Jg(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Af(){var e=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),e}function Ro(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=n}function Xg(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-et(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Al(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-et(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var B=0;function jf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Of,jl,Lf,Df,Mf,Ra=!1,js=[],Wt=null,qt=null,Kt=null,Xr=new Map,Zr=new Map,Ut=[],Zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zc(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function Ir(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=vs(t),t!==null&&jl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ey(e,t,n,r,s){switch(t){case"focusin":return Wt=Ir(Wt,e,t,n,r,s),!0;case"dragenter":return qt=Ir(qt,e,t,n,r,s),!0;case"mouseover":return Kt=Ir(Kt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Xr.set(i,Ir(Xr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zr.set(i,Ir(Zr.get(i)||null,e,t,n,r,s)),!0}return!1}function Uf(e){var t=dn(e.target);if(t!==null){var n=jn(t);if(n!==null){if(t=n.tag,t===13){if(t=Tf(n),t!==null){e.blockedOn=t,Mf(e.priority,function(){Lf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ia=r,n.target.dispatchEvent(r),Ia=null}else return t=vs(n),t!==null&&jl(t),e.blockedOn=n,!1;t.shift()}return!0}function eu(e,t,n){Gs(e)&&n.delete(t)}function ty(){Ra=!1,Wt!==null&&Gs(Wt)&&(Wt=null),qt!==null&&Gs(qt)&&(qt=null),Kt!==null&&Gs(Kt)&&(Kt=null),Xr.forEach(eu),Zr.forEach(eu)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ra||(Ra=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,ty)))}function es(e){function t(s){return Tr(s,e)}if(0<js.length){Tr(js[0],e);for(var n=1;n<js.length;n++){var r=js[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wt!==null&&Tr(Wt,e),qt!==null&&Tr(qt,e),Kt!==null&&Tr(Kt,e),Xr.forEach(t),Zr.forEach(t),n=0;n<Ut.length;n++)r=Ut[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ut.length&&(n=Ut[0],n.blockedOn===null);)Uf(n),n.blockedOn===null&&Ut.shift()}var Xn=jt.ReactCurrentBatchConfig,yi=!0;function ny(e,t,n,r){var s=B,i=Xn.transition;Xn.transition=null;try{B=1,Ol(e,t,n,r)}finally{B=s,Xn.transition=i}}function ry(e,t,n,r){var s=B,i=Xn.transition;Xn.transition=null;try{B=4,Ol(e,t,n,r)}finally{B=s,Xn.transition=i}}function Ol(e,t,n,r){if(yi){var s=Pa(e,t,n,r);if(s===null)zo(e,t,r,vi,n),Zc(e,r);else if(ey(s,e,t,n,r))r.stopPropagation();else if(Zc(e,r),t&4&&-1<Zg.indexOf(e)){for(;s!==null;){var i=vs(s);if(i!==null&&Of(i),i=Pa(e,t,n,r),i===null&&zo(e,t,r,vi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zo(e,t,r,null,n)}}var vi=null;function Pa(e,t,n,r){if(vi=null,e=Rl(r),e=dn(e),e!==null)if(t=jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vi=e,null}function Ff(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vg()){case Pl:return 1;case Rf:return 4;case mi:case Wg:return 16;case Pf:return 536870912;default:return 16}default:return 16}}var Ht=null,Ll=null,Qs=null;function zf(){if(Qs)return Qs;var e,t=Ll,n=t.length,r,s="value"in Ht?Ht.value:Ht.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Qs=s.slice(e,1<r?1-r:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Os(){return!0}function tu(){return!1}function $e(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Os:tu,this.isPropagationStopped=tu,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),t}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=$e(hr),ys=Z({},hr,{view:0,detail:0}),sy=$e(ys),Po,Ao,Nr,Qi=Z({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(Po=e.screenX-Nr.screenX,Ao=e.screenY-Nr.screenY):Ao=Po=0,Nr=e),Po)},movementY:function(e){return"movementY"in e?e.movementY:Ao}}),nu=$e(Qi),iy=Z({},Qi,{dataTransfer:0}),oy=$e(iy),ay=Z({},ys,{relatedTarget:0}),jo=$e(ay),ly=Z({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=$e(ly),uy=Z({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dy=$e(uy),fy=Z({},hr,{data:0}),ru=$e(fy),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=my[e])?!!t[e]:!1}function Ml(){return gy}var yy=Z({},ys,{key:function(e){if(e.key){var t=hy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vy=$e(yy),wy=Z({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=$e(wy),xy=Z({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),Sy=$e(xy),Ey=Z({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ky=$e(Ey),_y=Z({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Iy=$e(_y),Ty=[9,13,27,32],Ul=Tt&&"CompositionEvent"in window,Fr=null;Tt&&"documentMode"in document&&(Fr=document.documentMode);var Ny=Tt&&"TextEvent"in window&&!Fr,Bf=Tt&&(!Ul||Fr&&8<Fr&&11>=Fr),iu=" ",ou=!1;function $f(e,t){switch(e){case"keyup":return Ty.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function Cy(e,t){switch(e){case"compositionend":return Hf(t);case"keypress":return t.which!==32?null:(ou=!0,iu);case"textInput":return e=t.data,e===iu&&ou?null:e;default:return null}}function by(e,t){if(Fn)return e==="compositionend"||!Ul&&$f(e,t)?(e=zf(),Qs=Ll=Ht=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bf&&t.locale!=="ko"?null:t.data;default:return null}}var Ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ry[e.type]:t==="textarea"}function Vf(e,t,n,r){Sf(r),t=wi(t,"onChange"),0<t.length&&(n=new Dl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zr=null,ts=null;function Py(e){th(e,0)}function Ji(e){var t=$n(e);if(pf(t))return e}function Ay(e,t){if(e==="change")return t}var Wf=!1;if(Tt){var Oo;if(Tt){var Lo="oninput"in document;if(!Lo){var lu=document.createElement("div");lu.setAttribute("oninput","return;"),Lo=typeof lu.oninput=="function"}Oo=Lo}else Oo=!1;Wf=Oo&&(!document.documentMode||9<document.documentMode)}function cu(){zr&&(zr.detachEvent("onpropertychange",qf),ts=zr=null)}function qf(e){if(e.propertyName==="value"&&Ji(ts)){var t=[];Vf(t,ts,e,Rl(e)),If(Py,t)}}function jy(e,t,n){e==="focusin"?(cu(),zr=t,ts=n,zr.attachEvent("onpropertychange",qf)):e==="focusout"&&cu()}function Oy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ji(ts)}function Ly(e,t){if(e==="click")return Ji(t)}function Dy(e,t){if(e==="input"||e==="change")return Ji(t)}function My(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:My;function ns(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ha.call(t,s)||!rt(e[s],t[s]))return!1}return!0}function uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function du(e,t){var n=uu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uu(n)}}function Kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gf(){for(var e=window,t=fi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fi(e.document)}return t}function Fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uy(e){var t=Gf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kf(n.ownerDocument.documentElement,n)){if(r!==null&&Fl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=du(n,i);var o=du(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fy=Tt&&"documentMode"in document&&11>=document.documentMode,zn=null,Aa=null,Br=null,ja=!1;function fu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ja||zn==null||zn!==fi(r)||(r=zn,"selectionStart"in r&&Fl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Br&&ns(Br,r)||(Br=r,r=wi(Aa,"onSelect"),0<r.length&&(t=new Dl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zn)))}function Ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bn={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},Do={},Qf={};Tt&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function Yi(e){if(Do[e])return Do[e];if(!Bn[e])return e;var t=Bn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qf)return Do[e]=t[n];return e}var Jf=Yi("animationend"),Yf=Yi("animationiteration"),Xf=Yi("animationstart"),Zf=Yi("transitionend"),eh=new Map,hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(e,t){eh.set(e,t),An(t,[e])}for(var Mo=0;Mo<hu.length;Mo++){var Uo=hu[Mo],zy=Uo.toLowerCase(),By=Uo[0].toUpperCase()+Uo.slice(1);rn(zy,"on"+By)}rn(Jf,"onAnimationEnd");rn(Yf,"onAnimationIteration");rn(Xf,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(Zf,"onTransitionEnd");sr("onMouseEnter",["mouseout","mouseover"]);sr("onMouseLeave",["mouseout","mouseover"]);sr("onPointerEnter",["pointerout","pointerover"]);sr("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$y=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function pu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zg(r,t,void 0,e),e.currentTarget=null}function th(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;pu(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;pu(s,a,c),i=l}}}if(pi)throw e=Ca,pi=!1,Ca=null,e}function q(e,t){var n=t[Ua];n===void 0&&(n=t[Ua]=new Set);var r=e+"__bubble";n.has(r)||(nh(t,e,2,!1),n.add(r))}function Fo(e,t,n){var r=0;t&&(r|=4),nh(n,e,r,t)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function rs(e){if(!e[Ds]){e[Ds]=!0,cf.forEach(function(n){n!=="selectionchange"&&($y.has(n)||Fo(n,!1,e),Fo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ds]||(t[Ds]=!0,Fo("selectionchange",!1,t))}}function nh(e,t,n,r){switch(Ff(t)){case 1:var s=ny;break;case 4:s=ry;break;default:s=Ol}n=s.bind(null,t,n,e),s=void 0,!Na||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function zo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=dn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}If(function(){var c=i,f=Rl(n),m=[];e:{var p=eh.get(e);if(p!==void 0){var x=Dl,y=e;switch(e){case"keypress":if(Js(n)===0)break e;case"keydown":case"keyup":x=vy;break;case"focusin":y="focus",x=jo;break;case"focusout":y="blur",x=jo;break;case"beforeblur":case"afterblur":x=jo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=oy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Sy;break;case Jf:case Yf:case Xf:x=cy;break;case Zf:x=ky;break;case"scroll":x=sy;break;case"wheel":x=Iy;break;case"copy":case"cut":case"paste":x=dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=su}var S=(t&4)!==0,v=!S&&e==="scroll",h=S?p!==null?p+"Capture":null:p;S=[];for(var d=c,g;d!==null;){g=d;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,h!==null&&(w=Yr(d,h),w!=null&&S.push(ss(d,w,g)))),v)break;d=d.return}0<S.length&&(p=new x(p,y,null,n,f),m.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==Ia&&(y=n.relatedTarget||n.fromElement)&&(dn(y)||y[Nt]))break e;if((x||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=c,y=y?dn(y):null,y!==null&&(v=jn(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=c),x!==y)){if(S=nu,w="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(S=su,w="onPointerLeave",h="onPointerEnter",d="pointer"),v=x==null?p:$n(x),g=y==null?p:$n(y),p=new S(w,d+"leave",x,n,f),p.target=v,p.relatedTarget=g,w=null,dn(f)===c&&(S=new S(h,d+"enter",y,n,f),S.target=g,S.relatedTarget=v,w=S),v=w,x&&y)t:{for(S=x,h=y,d=0,g=S;g;g=Dn(g))d++;for(g=0,w=h;w;w=Dn(w))g++;for(;0<d-g;)S=Dn(S),d--;for(;0<g-d;)h=Dn(h),g--;for(;d--;){if(S===h||h!==null&&S===h.alternate)break t;S=Dn(S),h=Dn(h)}S=null}else S=null;x!==null&&mu(m,p,x,S,!1),y!==null&&v!==null&&mu(m,v,y,S,!0)}}e:{if(p=c?$n(c):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var _=Ay;else if(au(p))if(Wf)_=Dy;else{_=Oy;var I=jy}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=Ly);if(_&&(_=_(e,c))){Vf(m,_,n,f);break e}I&&I(e,p,c),e==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&xa(p,"number",p.value)}switch(I=c?$n(c):window,e){case"focusin":(au(I)||I.contentEditable==="true")&&(zn=I,Aa=c,Br=null);break;case"focusout":Br=Aa=zn=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,fu(m,n,f);break;case"selectionchange":if(Fy)break;case"keydown":case"keyup":fu(m,n,f)}var k;if(Ul)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Fn?$f(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Bf&&n.locale!=="ko"&&(Fn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Fn&&(k=zf()):(Ht=f,Ll="value"in Ht?Ht.value:Ht.textContent,Fn=!0)),I=wi(c,N),0<I.length&&(N=new ru(N,e,null,n,f),m.push({event:N,listeners:I}),k?N.data=k:(k=Hf(n),k!==null&&(N.data=k)))),(k=Ny?Cy(e,n):by(e,n))&&(c=wi(c,"onBeforeInput"),0<c.length&&(f=new ru("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=k))}th(m,t)})}function ss(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yr(e,n),i!=null&&r.unshift(ss(e,i,s)),i=Yr(e,t),i!=null&&r.push(ss(e,i,s))),e=e.return}return r}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Yr(n,i),l!=null&&o.unshift(ss(n,l,a))):s||(l=Yr(n,i),l!=null&&o.push(ss(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Hy=/\r\n?/g,Vy=/\u0000|\uFFFD/g;function gu(e){return(typeof e=="string"?e:""+e).replace(Hy,`
`).replace(Vy,"")}function Ms(e,t,n){if(t=gu(t),gu(e)!==t&&n)throw Error(T(425))}function xi(){}var Oa=null,La=null;function Da(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ma=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,yu=typeof Promise=="function"?Promise:void 0,qy=typeof queueMicrotask=="function"?queueMicrotask:typeof yu<"u"?function(e){return yu.resolve(null).then(e).catch(Ky)}:Ma;function Ky(e){setTimeout(function(){throw e})}function Bo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),es(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);es(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pr=Math.random().toString(36).slice(2),lt="__reactFiber$"+pr,is="__reactProps$"+pr,Nt="__reactContainer$"+pr,Ua="__reactEvents$"+pr,Gy="__reactListeners$"+pr,Qy="__reactHandles$"+pr;function dn(e){var t=e[lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nt]||n[lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vu(e);e!==null;){if(n=e[lt])return n;e=vu(e)}return t}e=n,n=e.parentNode}return null}function vs(e){return e=e[lt]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Xi(e){return e[is]||null}var Fa=[],Hn=-1;function sn(e){return{current:e}}function K(e){0>Hn||(e.current=Fa[Hn],Fa[Hn]=null,Hn--)}function V(e,t){Hn++,Fa[Hn]=e.current,e.current=t}var nn={},we=sn(nn),Ce=sn(!1),En=nn;function ir(e,t){var n=e.type.contextTypes;if(!n)return nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function be(e){return e=e.childContextTypes,e!=null}function Si(){K(Ce),K(we)}function wu(e,t,n){if(we.current!==nn)throw Error(T(168));V(we,t),V(Ce,n)}function rh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,jg(e)||"Unknown",s));return Z({},n,r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,En=we.current,V(we,e),V(Ce,Ce.current),!0}function xu(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=rh(e,t,En),r.__reactInternalMemoizedMergedChildContext=e,K(Ce),K(we),V(we,e)):K(Ce),V(Ce,n)}var wt=null,Zi=!1,$o=!1;function sh(e){wt===null?wt=[e]:wt.push(e)}function Jy(e){Zi=!0,sh(e)}function on(){if(!$o&&wt!==null){$o=!0;var e=0,t=B;try{var n=wt;for(B=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wt=null,Zi=!1}catch(s){throw wt!==null&&(wt=wt.slice(e+1)),bf(Pl,on),s}finally{B=t,$o=!1}}return null}var Vn=[],Wn=0,ki=null,_i=0,He=[],Ve=0,kn=null,St=1,Et="";function ln(e,t){Vn[Wn++]=_i,Vn[Wn++]=ki,ki=e,_i=t}function ih(e,t,n){He[Ve++]=St,He[Ve++]=Et,He[Ve++]=kn,kn=e;var r=St;e=Et;var s=32-et(r)-1;r&=~(1<<s),n+=1;var i=32-et(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,St=1<<32-et(t)+s|n<<s|r,Et=i+e}else St=1<<i|n<<s|r,Et=e}function zl(e){e.return!==null&&(ln(e,1),ih(e,1,0))}function Bl(e){for(;e===ki;)ki=Vn[--Wn],Vn[Wn]=null,_i=Vn[--Wn],Vn[Wn]=null;for(;e===kn;)kn=He[--Ve],He[Ve]=null,Et=He[--Ve],He[Ve]=null,St=He[--Ve],He[Ve]=null}var Ue=null,Me=null,Q=!1,Xe=null;function oh(e,t){var n=We(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Su(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ue=e,Me=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ue=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kn!==null?{id:St,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=We(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ue=e,Me=null,!0):!1;default:return!1}}function za(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ba(e){if(Q){var t=Me;if(t){var n=t;if(!Su(e,t)){if(za(e))throw Error(T(418));t=Gt(n.nextSibling);var r=Ue;t&&Su(e,t)?oh(r,n):(e.flags=e.flags&-4097|2,Q=!1,Ue=e)}}else{if(za(e))throw Error(T(418));e.flags=e.flags&-4097|2,Q=!1,Ue=e}}}function Eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function Us(e){if(e!==Ue)return!1;if(!Q)return Eu(e),Q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Da(e.type,e.memoizedProps)),t&&(t=Me)){if(za(e))throw ah(),Error(T(418));for(;t;)oh(e,t),t=Gt(t.nextSibling)}if(Eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Me=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=Ue?Gt(e.stateNode.nextSibling):null;return!0}function ah(){for(var e=Me;e;)e=Gt(e.nextSibling)}function or(){Me=Ue=null,Q=!1}function $l(e){Xe===null?Xe=[e]:Xe.push(e)}var Yy=jt.ReactCurrentBatchConfig;function Cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ku(e){var t=e._init;return t(e._payload)}function lh(e){function t(h,d){if(e){var g=h.deletions;g===null?(h.deletions=[d],h.flags|=16):g.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function s(h,d){return h=Xt(h,d),h.index=0,h.sibling=null,h}function i(h,d,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<d?(h.flags|=2,d):g):(h.flags|=2,d)):(h.flags|=1048576,d)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,d,g,w){return d===null||d.tag!==6?(d=Qo(g,h.mode,w),d.return=h,d):(d=s(d,g),d.return=h,d)}function l(h,d,g,w){var _=g.type;return _===Un?f(h,d,g.props.children,w,g.key):d!==null&&(d.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dt&&ku(_)===d.type)?(w=s(d,g.props),w.ref=Cr(h,d,g),w.return=h,w):(w=ri(g.type,g.key,g.props,null,h.mode,w),w.ref=Cr(h,d,g),w.return=h,w)}function c(h,d,g,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Jo(g,h.mode,w),d.return=h,d):(d=s(d,g.children||[]),d.return=h,d)}function f(h,d,g,w,_){return d===null||d.tag!==7?(d=vn(g,h.mode,w,_),d.return=h,d):(d=s(d,g),d.return=h,d)}function m(h,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Qo(""+d,h.mode,g),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Cs:return g=ri(d.type,d.key,d.props,null,h.mode,g),g.ref=Cr(h,null,d),g.return=h,g;case Mn:return d=Jo(d,h.mode,g),d.return=h,d;case Dt:var w=d._init;return m(h,w(d._payload),g)}if(Or(d)||kr(d))return d=vn(d,h.mode,g,null),d.return=h,d;Fs(h,d)}return null}function p(h,d,g,w){var _=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:a(h,d,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cs:return g.key===_?l(h,d,g,w):null;case Mn:return g.key===_?c(h,d,g,w):null;case Dt:return _=g._init,p(h,d,_(g._payload),w)}if(Or(g)||kr(g))return _!==null?null:f(h,d,g,w,null);Fs(h,g)}return null}function x(h,d,g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(g)||null,a(d,h,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cs:return h=h.get(w.key===null?g:w.key)||null,l(d,h,w,_);case Mn:return h=h.get(w.key===null?g:w.key)||null,c(d,h,w,_);case Dt:var I=w._init;return x(h,d,g,I(w._payload),_)}if(Or(w)||kr(w))return h=h.get(g)||null,f(d,h,w,_,null);Fs(d,w)}return null}function y(h,d,g,w){for(var _=null,I=null,k=d,N=d=0,b=null;k!==null&&N<g.length;N++){k.index>N?(b=k,k=null):b=k.sibling;var A=p(h,k,g[N],w);if(A===null){k===null&&(k=b);break}e&&k&&A.alternate===null&&t(h,k),d=i(A,d,N),I===null?_=A:I.sibling=A,I=A,k=b}if(N===g.length)return n(h,k),Q&&ln(h,N),_;if(k===null){for(;N<g.length;N++)k=m(h,g[N],w),k!==null&&(d=i(k,d,N),I===null?_=k:I.sibling=k,I=k);return Q&&ln(h,N),_}for(k=r(h,k);N<g.length;N++)b=x(k,h,N,g[N],w),b!==null&&(e&&b.alternate!==null&&k.delete(b.key===null?N:b.key),d=i(b,d,N),I===null?_=b:I.sibling=b,I=b);return e&&k.forEach(function(H){return t(h,H)}),Q&&ln(h,N),_}function S(h,d,g,w){var _=kr(g);if(typeof _!="function")throw Error(T(150));if(g=_.call(g),g==null)throw Error(T(151));for(var I=_=null,k=d,N=d=0,b=null,A=g.next();k!==null&&!A.done;N++,A=g.next()){k.index>N?(b=k,k=null):b=k.sibling;var H=p(h,k,A.value,w);if(H===null){k===null&&(k=b);break}e&&k&&H.alternate===null&&t(h,k),d=i(H,d,N),I===null?_=H:I.sibling=H,I=H,k=b}if(A.done)return n(h,k),Q&&ln(h,N),_;if(k===null){for(;!A.done;N++,A=g.next())A=m(h,A.value,w),A!==null&&(d=i(A,d,N),I===null?_=A:I.sibling=A,I=A);return Q&&ln(h,N),_}for(k=r(h,k);!A.done;N++,A=g.next())A=x(k,h,N,A.value,w),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?N:A.key),d=i(A,d,N),I===null?_=A:I.sibling=A,I=A);return e&&k.forEach(function(Oe){return t(h,Oe)}),Q&&ln(h,N),_}function v(h,d,g,w){if(typeof g=="object"&&g!==null&&g.type===Un&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Cs:e:{for(var _=g.key,I=d;I!==null;){if(I.key===_){if(_=g.type,_===Un){if(I.tag===7){n(h,I.sibling),d=s(I,g.props.children),d.return=h,h=d;break e}}else if(I.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dt&&ku(_)===I.type){n(h,I.sibling),d=s(I,g.props),d.ref=Cr(h,I,g),d.return=h,h=d;break e}n(h,I);break}else t(h,I);I=I.sibling}g.type===Un?(d=vn(g.props.children,h.mode,w,g.key),d.return=h,h=d):(w=ri(g.type,g.key,g.props,null,h.mode,w),w.ref=Cr(h,d,g),w.return=h,h=w)}return o(h);case Mn:e:{for(I=g.key;d!==null;){if(d.key===I)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(h,d.sibling),d=s(d,g.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=Jo(g,h.mode,w),d.return=h,h=d}return o(h);case Dt:return I=g._init,v(h,d,I(g._payload),w)}if(Or(g))return y(h,d,g,w);if(kr(g))return S(h,d,g,w);Fs(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(h,d.sibling),d=s(d,g),d.return=h,h=d):(n(h,d),d=Qo(g,h.mode,w),d.return=h,h=d),o(h)):n(h,d)}return v}var ar=lh(!0),ch=lh(!1),Ii=sn(null),Ti=null,qn=null,Hl=null;function Vl(){Hl=qn=Ti=null}function Wl(e){var t=Ii.current;K(Ii),e._currentValue=t}function $a(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zn(e,t){Ti=e,Hl=qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(Hl!==e)if(e={context:e,memoizedValue:t,next:null},qn===null){if(Ti===null)throw Error(T(308));qn=e,Ti.dependencies={lanes:0,firstContext:e}}else qn=qn.next=e;return t}var fn=null;function ql(e){fn===null?fn=[e]:fn.push(e)}function uh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ql(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ct(e,r)}function Ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Mt=!1;function Kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,U&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ct(e,n)}return s=r.interleaved,s===null?(t.next=t,ql(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ct(e,n)}function Ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Al(e,n)}}function _u(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ni(e,t,n,r){var s=e.updateQueue;Mt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(i!==null){var m=s.baseState;o=0,f=c=l=null,a=i;do{var p=a.lane,x=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,S=a;switch(p=t,x=n,S.tag){case 1:if(y=S.payload,typeof y=="function"){m=y.call(x,m,p);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,p=typeof y=="function"?y.call(x,m,p):y,p==null)break e;m=Z({},m,p);break e;case 2:Mt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else x={eventTime:x,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=x,l=m):f=f.next=x,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(l=m),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);In|=o,e.lanes=o,e.memoizedState=m}}function Iu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var ws={},dt=sn(ws),os=sn(ws),as=sn(ws);function hn(e){if(e===ws)throw Error(T(174));return e}function Gl(e,t){switch(V(as,t),V(os,e),V(dt,ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ea(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ea(t,e)}K(dt),V(dt,t)}function lr(){K(dt),K(os),K(as)}function fh(e){hn(as.current);var t=hn(dt.current),n=Ea(t,e.type);t!==n&&(V(os,e),V(dt,n))}function Ql(e){os.current===e&&(K(dt),K(os))}var Y=sn(0);function Ci(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ho=[];function Jl(){for(var e=0;e<Ho.length;e++)Ho[e]._workInProgressVersionPrimary=null;Ho.length=0}var Xs=jt.ReactCurrentDispatcher,Vo=jt.ReactCurrentBatchConfig,_n=0,X=null,se=null,le=null,bi=!1,$r=!1,ls=0,Xy=0;function me(){throw Error(T(321))}function Yl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function Xl(e,t,n,r,s,i){if(_n=i,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xs.current=e===null||e.memoizedState===null?n0:r0,e=n(r,s),$r){i=0;do{if($r=!1,ls=0,25<=i)throw Error(T(301));i+=1,le=se=null,t.updateQueue=null,Xs.current=s0,e=n(r,s)}while($r)}if(Xs.current=Ri,t=se!==null&&se.next!==null,_n=0,le=se=X=null,bi=!1,t)throw Error(T(300));return e}function Zl(){var e=ls!==0;return ls=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?X.memoizedState=le=e:le=le.next=e,le}function Ge(){if(se===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=le===null?X.memoizedState:le.next;if(t!==null)le=t,se=e;else{if(e===null)throw Error(T(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},le===null?X.memoizedState=le=e:le=le.next=e}return le}function cs(e,t){return typeof t=="function"?t(e):t}function Wo(e){var t=Ge(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var f=c.lane;if((_n&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=m,o=r):l=l.next=m,X.lanes|=f,In|=f}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,rt(r,t.memoizedState)||(Ne=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,X.lanes|=i,In|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qo(e){var t=Ge(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);rt(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function hh(){}function ph(e,t){var n=X,r=Ge(),s=t(),i=!rt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ne=!0),r=r.queue,ec(yh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,us(9,gh.bind(null,n,r,s,t),void 0,null),ce===null)throw Error(T(349));_n&30||mh(n,t,s)}return s}function mh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gh(e,t,n,r){t.value=n,t.getSnapshot=r,vh(t)&&wh(e)}function yh(e,t,n){return n(function(){vh(t)&&wh(e)})}function vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function wh(e){var t=Ct(e,1);t!==null&&tt(t,e,1,-1)}function Tu(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=t0.bind(null,X,e),[t.memoizedState,e]}function us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xh(){return Ge().memoizedState}function Zs(e,t,n,r){var s=at();X.flags|=e,s.memoizedState=us(1|t,n,void 0,r===void 0?null:r)}function eo(e,t,n,r){var s=Ge();r=r===void 0?null:r;var i=void 0;if(se!==null){var o=se.memoizedState;if(i=o.destroy,r!==null&&Yl(r,o.deps)){s.memoizedState=us(t,n,i,r);return}}X.flags|=e,s.memoizedState=us(1|t,n,i,r)}function Nu(e,t){return Zs(8390656,8,e,t)}function ec(e,t){return eo(2048,8,e,t)}function Sh(e,t){return eo(4,2,e,t)}function Eh(e,t){return eo(4,4,e,t)}function kh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _h(e,t,n){return n=n!=null?n.concat([e]):null,eo(4,4,kh.bind(null,t,e),n)}function tc(){}function Ih(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Th(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nh(e,t,n){return _n&21?(rt(n,t)||(n=Af(),X.lanes|=n,In|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=n)}function Zy(e,t){var n=B;B=n!==0&&4>n?n:4,e(!0);var r=Vo.transition;Vo.transition={};try{e(!1),t()}finally{B=n,Vo.transition=r}}function Ch(){return Ge().memoizedState}function e0(e,t,n){var r=Yt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bh(e))Rh(t,n);else if(n=uh(e,t,n,r),n!==null){var s=Se();tt(n,e,r,s),Ph(n,t,r)}}function t0(e,t,n){var r=Yt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bh(e))Rh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rt(a,o)){var l=t.interleaved;l===null?(s.next=s,ql(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=uh(e,t,s,r),n!==null&&(s=Se(),tt(n,e,r,s),Ph(n,t,r))}}function bh(e){var t=e.alternate;return e===X||t!==null&&t===X}function Rh(e,t){$r=bi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ph(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Al(e,n)}}var Ri={readContext:Ke,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},n0={readContext:Ke,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Nu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zs(4194308,4,kh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zs(4,2,e,t)},useMemo:function(e,t){var n=at();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=at();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=e0.bind(null,X,e),[r.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Tu,useDebugValue:tc,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Tu(!1),t=e[0];return e=Zy.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=X,s=at();if(Q){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),ce===null)throw Error(T(349));_n&30||mh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Nu(yh.bind(null,r,i,e),[e]),r.flags|=2048,us(9,gh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=at(),t=ce.identifierPrefix;if(Q){var n=Et,r=St;n=(r&~(1<<32-et(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ls++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},r0={readContext:Ke,useCallback:Ih,useContext:Ke,useEffect:ec,useImperativeHandle:_h,useInsertionEffect:Sh,useLayoutEffect:Eh,useMemo:Th,useReducer:Wo,useRef:xh,useState:function(){return Wo(cs)},useDebugValue:tc,useDeferredValue:function(e){var t=Ge();return Nh(t,se.memoizedState,e)},useTransition:function(){var e=Wo(cs)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:ph,useId:Ch,unstable_isNewReconciler:!1},s0={readContext:Ke,useCallback:Ih,useContext:Ke,useEffect:ec,useImperativeHandle:_h,useInsertionEffect:Sh,useLayoutEffect:Eh,useMemo:Th,useReducer:qo,useRef:xh,useState:function(){return qo(cs)},useDebugValue:tc,useDeferredValue:function(e){var t=Ge();return se===null?t.memoizedState=e:Nh(t,se.memoizedState,e)},useTransition:function(){var e=qo(cs)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:hh,useSyncExternalStore:ph,useId:Ch,unstable_isNewReconciler:!1};function Je(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ha(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var to={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Se(),s=Yt(e),i=It(r,s);i.payload=t,n!=null&&(i.callback=n),t=Qt(e,i,s),t!==null&&(tt(t,e,s,r),Ys(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Se(),s=Yt(e),i=It(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qt(e,i,s),t!==null&&(tt(t,e,s,r),Ys(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Se(),r=Yt(e),s=It(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qt(e,s,r),t!==null&&(tt(t,e,r,n),Ys(t,e,r))}};function Cu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ns(n,r)||!ns(s,i):!0}function Ah(e,t,n){var r=!1,s=nn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=be(t)?En:we.current,r=t.contextTypes,i=(r=r!=null)?ir(e,s):nn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=to,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function bu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&to.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Kl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=be(t)?En:we.current,s.context=ir(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ha(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&to.enqueueReplaceState(s,s.state,null),Ni(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function cr(e,t){try{var n="",r=t;do n+=Ag(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ko(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var i0=typeof WeakMap=="function"?WeakMap:Map;function jh(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ai||(Ai=!0,tl=r),Wa(e,t)},n}function Oh(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Wa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wa(e,t),typeof r!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ru(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new i0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=w0.bind(null,e,t,n),t.then(e,e))}function Pu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Au(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,Qt(n,t,1))),n.lanes|=1),e)}var o0=jt.ReactCurrentOwner,Ne=!1;function xe(e,t,n,r){t.child=e===null?ch(t,null,n,r):ar(t,e.child,n,r)}function ju(e,t,n,r,s){n=n.render;var i=t.ref;return Zn(t,s),r=Xl(e,t,n,r,i,s),n=Zl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Q&&n&&zl(t),t.flags|=1,xe(e,t,r,s),t.child)}function Ou(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!cc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Lh(e,t,i,r,s)):(e=ri(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ns,n(o,r)&&e.ref===t.ref)return bt(e,t,s)}return t.flags|=1,e=Xt(i,r),e.ref=t.ref,e.return=t,t.child=e}function Lh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ns(i,r)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,bt(e,t,s)}return qa(e,t,n,r,s)}function Dh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},V(Gn,De),De|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,V(Gn,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,V(Gn,De),De|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,V(Gn,De),De|=r;return xe(e,t,s,n),t.child}function Mh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qa(e,t,n,r,s){var i=be(n)?En:we.current;return i=ir(t,i),Zn(t,s),n=Xl(e,t,n,r,i,s),r=Zl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bt(e,t,s)):(Q&&r&&zl(t),t.flags|=1,xe(e,t,n,s),t.child)}function Lu(e,t,n,r,s){if(be(n)){var i=!0;Ei(t)}else i=!1;if(Zn(t,s),t.stateNode===null)ei(e,t),Ah(t,n,r),Va(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ke(c):(c=be(n)?En:we.current,c=ir(t,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&bu(t,o,r,c),Mt=!1;var p=t.memoizedState;o.state=p,Ni(t,r,o,s),l=t.memoizedState,a!==r||p!==l||Ce.current||Mt?(typeof f=="function"&&(Ha(t,n,f,r),l=t.memoizedState),(a=Mt||Cu(t,n,a,r,p,l,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,dh(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Je(t.type,a),o.props=c,m=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ke(l):(l=be(n)?En:we.current,l=ir(t,l));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||p!==l)&&bu(t,o,r,l),Mt=!1,p=t.memoizedState,o.state=p,Ni(t,r,o,s);var y=t.memoizedState;a!==m||p!==y||Ce.current||Mt?(typeof x=="function"&&(Ha(t,n,x,r),y=t.memoizedState),(c=Mt||Cu(t,n,c,r,p,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ka(e,t,n,r,i,s)}function Ka(e,t,n,r,s,i){Mh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&xu(t,n,!1),bt(e,t,i);r=t.stateNode,o0.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ar(t,e.child,null,i),t.child=ar(t,null,a,i)):xe(e,t,a,i),t.memoizedState=r.state,s&&xu(t,n,!0),t.child}function Uh(e){var t=e.stateNode;t.pendingContext?wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wu(e,t.context,!1),Gl(e,t.containerInfo)}function Du(e,t,n,r,s){return or(),$l(s),t.flags|=256,xe(e,t,n,r),t.child}var Ga={dehydrated:null,treeContext:null,retryLane:0};function Qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fh(e,t,n){var r=t.pendingProps,s=Y.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),V(Y,s&1),e===null)return Ba(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=so(o,r,0,null),e=vn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Qa(n),t.memoizedState=Ga,e):nc(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return a0(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Xt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Xt(a,i):(i=vn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Qa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ga,r}return i=e.child,e=i.sibling,r=Xt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nc(e,t){return t=so({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zs(e,t,n,r){return r!==null&&$l(r),ar(t,e.child,null,n),e=nc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a0(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ko(Error(T(422))),zs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=so({mode:"visible",children:r.children},s,0,null),i=vn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ar(t,e.child,null,o),t.child.memoizedState=Qa(o),t.memoizedState=Ga,i);if(!(t.mode&1))return zs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=Ko(i,r,void 0),zs(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ne||a){if(r=ce,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ct(e,s),tt(r,e,s,-1))}return lc(),r=Ko(Error(T(421))),zs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=x0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Me=Gt(s.nextSibling),Ue=t,Q=!0,Xe=null,e!==null&&(He[Ve++]=St,He[Ve++]=Et,He[Ve++]=kn,St=e.id,Et=e.overflow,kn=t),t=nc(t,r.children),t.flags|=4096,t)}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$a(e.return,t,n)}function Go(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(xe(e,t,r.children,n),r=Y.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mu(e,n,t);else if(e.tag===19)Mu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(V(Y,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ci(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Go(t,!0,n,null,i);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ei(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function l0(e,t,n){switch(t.tag){case 3:Uh(t),or();break;case 5:fh(t);break;case 1:be(t.type)&&Ei(t);break;case 4:Gl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;V(Ii,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(V(Y,Y.current&1),t.flags|=128,null):n&t.child.childLanes?Fh(e,t,n):(V(Y,Y.current&1),e=bt(e,t,n),e!==null?e.sibling:null);V(Y,Y.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Y,Y.current),r)break;return null;case 22:case 23:return t.lanes=0,Dh(e,t,n)}return bt(e,t,n)}var Bh,Ja,$h,Hh;Bh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ja=function(){};$h=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,hn(dt.current);var i=null;switch(n){case"input":s=va(e,s),r=va(e,r),i=[];break;case"select":s=Z({},s,{value:void 0}),r=Z({},r,{value:void 0}),i=[];break;case"textarea":s=Sa(e,s),r=Sa(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xi)}ka(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&q("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Hh=function(e,t,n,r){n!==r&&(t.flags|=4)};function br(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function c0(e,t,n){var r=t.pendingProps;switch(Bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return be(t.type)&&Si(),ge(t),null;case 3:return r=t.stateNode,lr(),K(Ce),K(we),Jl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(sl(Xe),Xe=null))),Ja(e,t),ge(t),null;case 5:Ql(t);var s=hn(as.current);if(n=t.type,e!==null&&t.stateNode!=null)$h(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return ge(t),null}if(e=hn(dt.current),Us(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[lt]=t,r[is]=i,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(s=0;s<Dr.length;s++)q(Dr[s],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":qc(r,i),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},q("invalid",r);break;case"textarea":Gc(r,i),q("invalid",r)}ka(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ms(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ms(r.textContent,a,e),s=["children",""+a]):Qr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",r)}switch(n){case"input":bs(r),Kc(r,i,!0);break;case"textarea":bs(r),Qc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[lt]=t,e[is]=r,Bh(e,t,!1,!1),t.stateNode=e;e:{switch(o=_a(n,r),n){case"dialog":q("cancel",e),q("close",e),s=r;break;case"iframe":case"object":case"embed":q("load",e),s=r;break;case"video":case"audio":for(s=0;s<Dr.length;s++)q(Dr[s],e);s=r;break;case"source":q("error",e),s=r;break;case"img":case"image":case"link":q("error",e),q("load",e),s=r;break;case"details":q("toggle",e),s=r;break;case"input":qc(e,r),s=va(e,r),q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Z({},r,{value:void 0}),q("invalid",e);break;case"textarea":Gc(e,r),s=Sa(e,r),q("invalid",e);break;default:s=r}ka(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?xf(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vf(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jr(e,l):typeof l=="number"&&Jr(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",e):l!=null&&Tl(e,i,l,o))}switch(n){case"input":bs(e),Kc(e,r,!1);break;case"textarea":bs(e),Qc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Qn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Qn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Hh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=hn(as.current),hn(dt.current),Us(t)){if(r=t.stateNode,n=t.memoizedProps,r[lt]=t,(i=r.nodeValue!==n)&&(e=Ue,e!==null))switch(e.tag){case 3:Ms(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=t,t.stateNode=r}return ge(t),null;case 13:if(K(Y),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Q&&Me!==null&&t.mode&1&&!(t.flags&128))ah(),or(),t.flags|=98560,i=!1;else if(i=Us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[lt]=t}else or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Xe!==null&&(sl(Xe),Xe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Y.current&1?ie===0&&(ie=3):lc())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return lr(),Ja(e,t),e===null&&rs(t.stateNode.containerInfo),ge(t),null;case 10:return Wl(t.type._context),ge(t),null;case 17:return be(t.type)&&Si(),ge(t),null;case 19:if(K(Y),i=t.memoizedState,i===null)return ge(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)br(i,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ci(e),o!==null){for(t.flags|=128,br(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return V(Y,Y.current&1|2),t.child}e=e.sibling}i.tail!==null&&ne()>ur&&(t.flags|=128,r=!0,br(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ci(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),br(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return ge(t),null}else 2*ne()-i.renderingStartTime>ur&&n!==1073741824&&(t.flags|=128,r=!0,br(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,n=Y.current,V(Y,r?n&1|2:n&1),t):(ge(t),null);case 22:case 23:return ac(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?De&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function u0(e,t){switch(Bl(t),t.tag){case 1:return be(t.type)&&Si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lr(),K(Ce),K(we),Jl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ql(t),null;case 13:if(K(Y),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Y),null;case 4:return lr(),null;case 10:return Wl(t.type._context),null;case 22:case 23:return ac(),null;case 24:return null;default:return null}}var Bs=!1,ye=!1,d0=typeof WeakSet=="function"?WeakSet:Set,P=null;function Kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(e,t,r)}else n.current=null}function Ya(e,t,n){try{n()}catch(r){te(e,t,r)}}var Uu=!1;function f0(e,t){if(Oa=yi,e=Gf(),Fl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,m=e,p=null;t:for(;;){for(var x;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(l=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)p=m,m=x;for(;;){if(m===e)break t;if(p===n&&++c===s&&(a=o),p===i&&++f===r&&(l=o),(x=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(La={focusedElem:e,selectionRange:n},yi=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,v=y.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?S:Je(t.type,S),v);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(w){te(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return y=Uu,Uu=!1,y}function Hr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ya(t,n,i)}s=s.next}while(s!==r)}}function no(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vh(e){var t=e.alternate;t!==null&&(e.alternate=null,Vh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[is],delete t[Ua],delete t[Gy],delete t[Qy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wh(e){return e.tag===5||e.tag===3||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Za(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xi));else if(r!==4&&(e=e.child,e!==null))for(Za(e,t,n),e=e.sibling;e!==null;)Za(e,t,n),e=e.sibling}function el(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}var de=null,Ye=!1;function Ot(e,t,n){for(n=n.child;n!==null;)qh(e,t,n),n=n.sibling}function qh(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Gi,n)}catch{}switch(n.tag){case 5:ye||Kn(n,t);case 6:var r=de,s=Ye;de=null,Ot(e,t,n),de=r,Ye=s,de!==null&&(Ye?(e=de,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Ye?(e=de,n=n.stateNode,e.nodeType===8?Bo(e.parentNode,n):e.nodeType===1&&Bo(e,n),es(e)):Bo(de,n.stateNode));break;case 4:r=de,s=Ye,de=n.stateNode.containerInfo,Ye=!0,Ot(e,t,n),de=r,Ye=s;break;case 0:case 11:case 14:case 15:if(!ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ya(n,t,o),s=s.next}while(s!==r)}Ot(e,t,n);break;case 1:if(!ye&&(Kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){te(n,t,a)}Ot(e,t,n);break;case 21:Ot(e,t,n);break;case 22:n.mode&1?(ye=(r=ye)||n.memoizedState!==null,Ot(e,t,n),ye=r):Ot(e,t,n);break;default:Ot(e,t,n)}}function zu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new d0),t.forEach(function(r){var s=S0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Ye=!1;break e;case 3:de=a.stateNode.containerInfo,Ye=!0;break e;case 4:de=a.stateNode.containerInfo,Ye=!0;break e}a=a.return}if(de===null)throw Error(T(160));qh(i,o,s),de=null,Ye=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){te(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kh(t,e),t=t.sibling}function Kh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),it(e),r&4){try{Hr(3,e,e.return),no(3,e)}catch(S){te(e,e.return,S)}try{Hr(5,e,e.return)}catch(S){te(e,e.return,S)}}break;case 1:Qe(t,e),it(e),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(Qe(t,e),it(e),r&512&&n!==null&&Kn(n,n.return),e.flags&32){var s=e.stateNode;try{Jr(s,"")}catch(S){te(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&mf(s,i),_a(a,o);var c=_a(a,i);for(o=0;o<l.length;o+=2){var f=l[o],m=l[o+1];f==="style"?xf(s,m):f==="dangerouslySetInnerHTML"?vf(s,m):f==="children"?Jr(s,m):Tl(s,f,m,c)}switch(a){case"input":wa(s,i);break;case"textarea":gf(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Qn(s,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?Qn(s,!!i.multiple,i.defaultValue,!0):Qn(s,!!i.multiple,i.multiple?[]:"",!1))}s[is]=i}catch(S){te(e,e.return,S)}}break;case 6:if(Qe(t,e),it(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){te(e,e.return,S)}}break;case 3:if(Qe(t,e),it(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(S){te(e,e.return,S)}break;case 4:Qe(t,e),it(e);break;case 13:Qe(t,e),it(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ic=ne())),r&4&&zu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ye=(c=ye)||f,Qe(t,e),ye=c):Qe(t,e),it(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(P=e,f=e.child;f!==null;){for(m=P=f;P!==null;){switch(p=P,x=p.child,p.tag){case 0:case 11:case 14:case 15:Hr(4,p,p.return);break;case 1:Kn(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(S){te(r,n,S)}}break;case 5:Kn(p,p.return);break;case 22:if(p.memoizedState!==null){$u(m);continue}}x!==null?(x.return=p,P=x):$u(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wf("display",o))}catch(S){te(e,e.return,S)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(S){te(e,e.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qe(t,e),it(e),r&4&&zu(e);break;case 21:break;default:Qe(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wh(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Jr(s,""),r.flags&=-33);var i=Fu(e);el(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Fu(e);Za(e,a,o);break;default:throw Error(T(161))}}catch(l){te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function h0(e,t,n){P=e,Gh(e)}function Gh(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=Bs;var c=ye;if(Bs=o,(ye=l)&&!c)for(P=s;P!==null;)o=P,l=o.child,o.tag===22&&o.memoizedState!==null?Hu(s):l!==null?(l.return=o,P=l):Hu(s);for(;i!==null;)P=i,Gh(i),i=i.sibling;P=s,Bs=a,ye=c}Bu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Bu(e)}}function Bu(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||no(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ye)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Je(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Iu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Iu(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&es(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}ye||t.flags&512&&Xa(t)}catch(p){te(t,t.return,p)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function $u(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function Hu(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(l){te(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){te(t,s,l)}}var i=t.return;try{Xa(t)}catch(l){te(t,i,l)}break;case 5:var o=t.return;try{Xa(t)}catch(l){te(t,o,l)}}}catch(l){te(t,t.return,l)}if(t===e){P=null;break}var a=t.sibling;if(a!==null){a.return=t.return,P=a;break}P=t.return}}var p0=Math.ceil,Pi=jt.ReactCurrentDispatcher,rc=jt.ReactCurrentOwner,qe=jt.ReactCurrentBatchConfig,U=0,ce=null,re=null,fe=0,De=0,Gn=sn(0),ie=0,ds=null,In=0,ro=0,sc=0,Vr=null,Te=null,ic=0,ur=1/0,vt=null,Ai=!1,tl=null,Jt=null,$s=!1,Vt=null,ji=0,Wr=0,nl=null,ti=-1,ni=0;function Se(){return U&6?ne():ti!==-1?ti:ti=ne()}function Yt(e){return e.mode&1?U&2&&fe!==0?fe&-fe:Yy.transition!==null?(ni===0&&(ni=Af()),ni):(e=B,e!==0||(e=window.event,e=e===void 0?16:Ff(e.type)),e):1}function tt(e,t,n,r){if(50<Wr)throw Wr=0,nl=null,Error(T(185));gs(e,n,r),(!(U&2)||e!==ce)&&(e===ce&&(!(U&2)&&(ro|=n),ie===4&&Ft(e,fe)),Re(e,r),n===1&&U===0&&!(t.mode&1)&&(ur=ne()+500,Zi&&on()))}function Re(e,t){var n=e.callbackNode;Yg(e,t);var r=gi(e,e===ce?fe:0);if(r===0)n!==null&&Xc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xc(n),t===1)e.tag===0?Jy(Vu.bind(null,e)):sh(Vu.bind(null,e)),qy(function(){!(U&6)&&on()}),n=null;else{switch(jf(r)){case 1:n=Pl;break;case 4:n=Rf;break;case 16:n=mi;break;case 536870912:n=Pf;break;default:n=mi}n=np(n,Qh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qh(e,t){if(ti=-1,ni=0,U&6)throw Error(T(327));var n=e.callbackNode;if(er()&&e.callbackNode!==n)return null;var r=gi(e,e===ce?fe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Oi(e,r);else{t=r;var s=U;U|=2;var i=Yh();(ce!==e||fe!==t)&&(vt=null,ur=ne()+500,yn(e,t));do try{y0();break}catch(a){Jh(e,a)}while(!0);Vl(),Pi.current=i,U=s,re!==null?t=0:(ce=null,fe=0,t=ie)}if(t!==0){if(t===2&&(s=ba(e),s!==0&&(r=s,t=rl(e,s))),t===1)throw n=ds,yn(e,0),Ft(e,r),Re(e,ne()),n;if(t===6)Ft(e,r);else{if(s=e.current.alternate,!(r&30)&&!m0(s)&&(t=Oi(e,r),t===2&&(i=ba(e),i!==0&&(r=i,t=rl(e,i))),t===1))throw n=ds,yn(e,0),Ft(e,r),Re(e,ne()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:cn(e,Te,vt);break;case 3:if(Ft(e,r),(r&130023424)===r&&(t=ic+500-ne(),10<t)){if(gi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Se(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ma(cn.bind(null,e,Te,vt),t);break}cn(e,Te,vt);break;case 4:if(Ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-et(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p0(r/1960))-r,10<r){e.timeoutHandle=Ma(cn.bind(null,e,Te,vt),r);break}cn(e,Te,vt);break;case 5:cn(e,Te,vt);break;default:throw Error(T(329))}}}return Re(e,ne()),e.callbackNode===n?Qh.bind(null,e):null}function rl(e,t){var n=Vr;return e.current.memoizedState.isDehydrated&&(yn(e,t).flags|=256),e=Oi(e,t),e!==2&&(t=Te,Te=n,t!==null&&sl(t)),e}function sl(e){Te===null?Te=e:Te.push.apply(Te,e)}function m0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~sc,t&=~ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-et(t),r=1<<n;e[n]=-1,t&=~r}}function Vu(e){if(U&6)throw Error(T(327));er();var t=gi(e,0);if(!(t&1))return Re(e,ne()),null;var n=Oi(e,t);if(e.tag!==0&&n===2){var r=ba(e);r!==0&&(t=r,n=rl(e,r))}if(n===1)throw n=ds,yn(e,0),Ft(e,t),Re(e,ne()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,Te,vt),Re(e,ne()),null}function oc(e,t){var n=U;U|=1;try{return e(t)}finally{U=n,U===0&&(ur=ne()+500,Zi&&on())}}function Tn(e){Vt!==null&&Vt.tag===0&&!(U&6)&&er();var t=U;U|=1;var n=qe.transition,r=B;try{if(qe.transition=null,B=1,e)return e()}finally{B=r,qe.transition=n,U=t,!(U&6)&&on()}}function ac(){De=Gn.current,K(Gn)}function yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wy(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch(Bl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Si();break;case 3:lr(),K(Ce),K(we),Jl();break;case 5:Ql(r);break;case 4:lr();break;case 13:K(Y);break;case 19:K(Y);break;case 10:Wl(r.type._context);break;case 22:case 23:ac()}n=n.return}if(ce=e,re=e=Xt(e.current,null),fe=De=t,ie=0,ds=null,sc=ro=In=0,Te=Vr=null,fn!==null){for(t=0;t<fn.length;t++)if(n=fn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fn=null}return e}function Jh(e,t){do{var n=re;try{if(Vl(),Xs.current=Ri,bi){for(var r=X.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bi=!1}if(_n=0,le=se=X=null,$r=!1,ls=0,rc.current=null,n===null||n.return===null){ie=1,ds=t,re=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Pu(o);if(x!==null){x.flags&=-257,Au(x,o,a,i,t),x.mode&1&&Ru(i,c,t),t=x,l=c;var y=t.updateQueue;if(y===null){var S=new Set;S.add(l),t.updateQueue=S}else y.add(l);break e}else{if(!(t&1)){Ru(i,c,t),lc();break e}l=Error(T(426))}}else if(Q&&a.mode&1){var v=Pu(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Au(v,o,a,i,t),$l(cr(l,a));break e}}i=l=cr(l,a),ie!==4&&(ie=2),Vr===null?Vr=[i]:Vr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=jh(i,l,t);_u(i,h);break e;case 1:a=l;var d=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jt===null||!Jt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Oh(i,a,t);_u(i,w);break e}}i=i.return}while(i!==null)}Zh(n)}catch(_){t=_,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function Yh(){var e=Pi.current;return Pi.current=Ri,e===null?Ri:e}function lc(){(ie===0||ie===3||ie===2)&&(ie=4),ce===null||!(In&268435455)&&!(ro&268435455)||Ft(ce,fe)}function Oi(e,t){var n=U;U|=2;var r=Yh();(ce!==e||fe!==t)&&(vt=null,yn(e,t));do try{g0();break}catch(s){Jh(e,s)}while(!0);if(Vl(),U=n,Pi.current=r,re!==null)throw Error(T(261));return ce=null,fe=0,ie}function g0(){for(;re!==null;)Xh(re)}function y0(){for(;re!==null&&!$g();)Xh(re)}function Xh(e){var t=tp(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?Zh(e):re=t,rc.current=null}function Zh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=u0(n,t),n!==null){n.flags&=32767,re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ie=6,re=null;return}}else if(n=c0(n,t,De),n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);ie===0&&(ie=5)}function cn(e,t,n){var r=B,s=qe.transition;try{qe.transition=null,B=1,v0(e,t,n,r)}finally{qe.transition=s,B=r}return null}function v0(e,t,n,r){do er();while(Vt!==null);if(U&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Xg(e,i),e===ce&&(re=ce=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$s||($s=!0,np(mi,function(){return er(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var o=B;B=1;var a=U;U|=4,rc.current=null,f0(e,n),Kh(n,e),Uy(La),yi=!!Oa,La=Oa=null,e.current=n,h0(n),Hg(),U=a,B=o,qe.transition=i}else e.current=n;if($s&&($s=!1,Vt=e,ji=s),i=e.pendingLanes,i===0&&(Jt=null),qg(n.stateNode),Re(e,ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ai)throw Ai=!1,e=tl,tl=null,e;return ji&1&&e.tag!==0&&er(),i=e.pendingLanes,i&1?e===nl?Wr++:(Wr=0,nl=e):Wr=0,on(),null}function er(){if(Vt!==null){var e=jf(ji),t=qe.transition,n=B;try{if(qe.transition=null,B=16>e?16:e,Vt===null)var r=!1;else{if(e=Vt,Vt=null,ji=0,U&6)throw Error(T(331));var s=U;for(U|=4,P=e.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(P=c;P!==null;){var f=P;switch(f.tag){case 0:case 11:case 15:Hr(8,f,i)}var m=f.child;if(m!==null)m.return=f,P=m;else for(;P!==null;){f=P;var p=f.sibling,x=f.return;if(Vh(f),f===c){P=null;break}if(p!==null){p.return=x,P=p;break}P=x}}}var y=i.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var v=S.sibling;S.sibling=null,S=v}while(S!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Hr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,P=h;break e}P=i.return}}var d=e.current;for(P=d;P!==null;){o=P;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,P=g;else e:for(o=d;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:no(9,a)}}catch(_){te(a,a.return,_)}if(a===o){P=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,P=w;break e}P=a.return}}if(U=s,on(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Gi,e)}catch{}r=!0}return r}finally{B=n,qe.transition=t}}return!1}function Wu(e,t,n){t=cr(n,t),t=jh(e,t,1),e=Qt(e,t,1),t=Se(),e!==null&&(gs(e,1,t),Re(e,t))}function te(e,t,n){if(e.tag===3)Wu(e,e,n);else for(;t!==null;){if(t.tag===3){Wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jt===null||!Jt.has(r))){e=cr(n,e),e=Oh(t,e,1),t=Qt(t,e,1),e=Se(),t!==null&&(gs(t,1,e),Re(t,e));break}}t=t.return}}function w0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&n,ce===e&&(fe&n)===n&&(ie===4||ie===3&&(fe&130023424)===fe&&500>ne()-ic?yn(e,0):sc|=n),Re(e,t)}function ep(e,t){t===0&&(e.mode&1?(t=As,As<<=1,!(As&130023424)&&(As=4194304)):t=1);var n=Se();e=Ct(e,t),e!==null&&(gs(e,t,n),Re(e,n))}function x0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ep(e,n)}function S0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),ep(e,n)}var tp;tp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)Ne=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ne=!1,l0(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,Q&&t.flags&1048576&&ih(t,_i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ei(e,t),e=t.pendingProps;var s=ir(t,we.current);Zn(t,n),s=Xl(null,t,r,e,s,n);var i=Zl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,be(r)?(i=!0,Ei(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kl(t),s.updater=to,t.stateNode=s,s._reactInternals=t,Va(t,r,e,n),t=Ka(null,t,r,!0,i,n)):(t.tag=0,Q&&i&&zl(t),xe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ei(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=k0(r),e=Je(r,e),s){case 0:t=qa(null,t,r,e,n);break e;case 1:t=Lu(null,t,r,e,n);break e;case 11:t=ju(null,t,r,e,n);break e;case 14:t=Ou(null,t,r,Je(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Je(r,s),qa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Je(r,s),Lu(e,t,r,s,n);case 3:e:{if(Uh(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,dh(e,t),Ni(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=cr(Error(T(423)),t),t=Du(e,t,r,n,s);break e}else if(r!==s){s=cr(Error(T(424)),t),t=Du(e,t,r,n,s);break e}else for(Me=Gt(t.stateNode.containerInfo.firstChild),Ue=t,Q=!0,Xe=null,n=ch(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),r===s){t=bt(e,t,n);break e}xe(e,t,r,n)}t=t.child}return t;case 5:return fh(t),e===null&&Ba(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Da(r,s)?o=null:i!==null&&Da(r,i)&&(t.flags|=32),Mh(e,t),xe(e,t,o,n),t.child;case 6:return e===null&&Ba(t),null;case 13:return Fh(e,t,n);case 4:return Gl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ar(t,null,r,n):xe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Je(r,s),ju(e,t,r,s,n);case 7:return xe(e,t,t.pendingProps,n),t.child;case 8:return xe(e,t,t.pendingProps.children,n),t.child;case 12:return xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,V(Ii,r._currentValue),r._currentValue=o,i!==null)if(rt(i.value,o)){if(i.children===s.children&&!Ce.current){t=bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=It(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$a(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$a(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Zn(t,n),s=Ke(s),r=r(s),t.flags|=1,xe(e,t,r,n),t.child;case 14:return r=t.type,s=Je(r,t.pendingProps),s=Je(r.type,s),Ou(e,t,r,s,n);case 15:return Lh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Je(r,s),ei(e,t),t.tag=1,be(r)?(e=!0,Ei(t)):e=!1,Zn(t,n),Ah(t,r,s),Va(t,r,s,n),Ka(null,t,r,!0,e,n);case 19:return zh(e,t,n);case 22:return Dh(e,t,n)}throw Error(T(156,t.tag))};function np(e,t){return bf(e,t)}function E0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,n,r){return new E0(e,t,n,r)}function cc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k0(e){if(typeof e=="function")return cc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cl)return 11;if(e===bl)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=We(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ri(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")cc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Un:return vn(n.children,s,i,t);case Nl:o=8,s|=8;break;case pa:return e=We(12,n,t,s|2),e.elementType=pa,e.lanes=i,e;case ma:return e=We(13,n,t,s),e.elementType=ma,e.lanes=i,e;case ga:return e=We(19,n,t,s),e.elementType=ga,e.lanes=i,e;case ff:return so(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uf:o=10;break e;case df:o=9;break e;case Cl:o=11;break e;case bl:o=14;break e;case Dt:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=We(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function vn(e,t,n,r){return e=We(7,e,r,t),e.lanes=n,e}function so(e,t,n,r){return e=We(22,e,r,t),e.elementType=ff,e.lanes=n,e.stateNode={isHidden:!1},e}function Qo(e,t,n){return e=We(6,e,null,t),e.lanes=n,e}function Jo(e,t,n){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ro(0),this.expirationTimes=Ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uc(e,t,n,r,s,i,o,a,l){return e=new _0(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=We(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kl(i),e}function I0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rp(e){if(!e)return nn;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(be(n))return rh(e,n,t)}return t}function sp(e,t,n,r,s,i,o,a,l){return e=uc(n,r,!0,e,s,i,o,a,l),e.context=rp(null),n=e.current,r=Se(),s=Yt(n),i=It(r,s),i.callback=t??null,Qt(n,i,s),e.current.lanes=s,gs(e,s,r),Re(e,r),e}function io(e,t,n,r){var s=t.current,i=Se(),o=Yt(s);return n=rp(n),t.context===null?t.context=n:t.pendingContext=n,t=It(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qt(s,t,o),e!==null&&(tt(e,s,o,i),Ys(e,s,o)),o}function Li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dc(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}function T0(){return null}var ip=typeof reportError=="function"?reportError:function(e){console.error(e)};function fc(e){this._internalRoot=e}oo.prototype.render=fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));io(e,t,null,null)};oo.prototype.unmount=fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){io(null,e,null,null)}),t[Nt]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Df();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&t!==0&&t<Ut[n].priority;n++);Ut.splice(n,0,e),n===0&&Uf(e)}};function hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ku(){}function N0(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Li(o);i.call(c)}}var o=sp(t,r,e,0,null,!1,!1,"",Ku);return e._reactRootContainer=o,e[Nt]=o.current,rs(e.nodeType===8?e.parentNode:e),Tn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Li(l);a.call(c)}}var l=uc(e,0,!1,null,null,!1,!1,"",Ku);return e._reactRootContainer=l,e[Nt]=l.current,rs(e.nodeType===8?e.parentNode:e),Tn(function(){io(t,l,n,r)}),l}function lo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Li(o);a.call(l)}}io(t,o,e,s)}else o=N0(n,t,e,s,r);return Li(o)}Of=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lr(t.pendingLanes);n!==0&&(Al(t,n|1),Re(t,ne()),!(U&6)&&(ur=ne()+500,on()))}break;case 13:Tn(function(){var r=Ct(e,1);if(r!==null){var s=Se();tt(r,e,1,s)}}),dc(e,1)}};jl=function(e){if(e.tag===13){var t=Ct(e,134217728);if(t!==null){var n=Se();tt(t,e,134217728,n)}dc(e,134217728)}};Lf=function(e){if(e.tag===13){var t=Yt(e),n=Ct(e,t);if(n!==null){var r=Se();tt(n,e,t,r)}dc(e,t)}};Df=function(){return B};Mf=function(e,t){var n=B;try{return B=e,t()}finally{B=n}};Ta=function(e,t,n){switch(t){case"input":if(wa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Xi(r);if(!s)throw Error(T(90));pf(r),wa(r,s)}}}break;case"textarea":gf(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};kf=oc;_f=Tn;var C0={usingClientEntryPoint:!1,Events:[vs,$n,Xi,Sf,Ef,oc]},Rr={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b0={bundleType:Rr.bundleType,version:Rr.version,rendererPackageName:Rr.rendererPackageName,rendererConfig:Rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nf(e),e===null?null:e.stateNode},findFiberByHostInstance:Rr.findFiberByHostInstance||T0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{Gi=Hs.inject(b0),ut=Hs}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hc(t))throw Error(T(200));return I0(e,t,null,n)};Be.createRoot=function(e,t){if(!hc(e))throw Error(T(299));var n=!1,r="",s=ip;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=uc(e,1,!1,null,null,n,!1,r,s),e[Nt]=t.current,rs(e.nodeType===8?e.parentNode:e),new fc(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Nf(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return Tn(e)};Be.hydrate=function(e,t,n){if(!ao(t))throw Error(T(200));return lo(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!hc(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ip;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=sp(t,null,e,1,n??null,s,!1,i,o),e[Nt]=t.current,rs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new oo(t)};Be.render=function(e,t,n){if(!ao(t))throw Error(T(200));return lo(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!ao(e))throw Error(T(40));return e._reactRootContainer?(Tn(function(){lo(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1};Be.unstable_batchedUpdates=oc;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ao(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return lo(e,t,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function op(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(op)}catch(e){console.error(e)}}op(),of.exports=Be;var R0=of.exports,ap,Gu=R0;ap=Gu.createRoot,Gu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},f)=>C.createElement("svg",{ref:f,...P0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${A0(e)}`,a].join(" "),...c},[...t.map(([m,p])=>C.createElement(m,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=G("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=G("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=G("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=G("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=G("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=G("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=G("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=G("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=G("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Q0=({user:e,onSignOut:t,onSignInClick:n,onDatasetClick:r,onUpgradeClick:s})=>u.jsx("div",{className:"border-b border-gray-300/30 bg-black/90 backdrop-blur-md sticky top-0 z-20 shadow-md",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white shadow-lg transform hover:scale-105 transition-transform duration-300",children:u.jsx(pc,{size:24})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h1",{className:"text-2xl font-extrabold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Accord AI"}),u.jsx(K0,{size:18,className:"text-yellow-400 animate-pulse"})]}),u.jsx("p",{className:"text-sm text-gray-500 hidden sm:block",children:"Multilingual AI Assistant"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[(e==null?void 0:e.email)==="admin@accordai.com"&&u.jsx("button",{onClick:r,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md",title:"Manage Dataset (Admin Only)",children:u.jsx(O0,{size:20})}),u.jsx("button",{onClick:s,className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-xl hover:from-amber-600 hover:to-orange-600 shadow-md hover:shadow-lg transition-all duration-200 font-medium text-sm transform hover:scale-105",title:"Upgrade to Premium",children:"⭐ Upgrade"}),u.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 bg-green-100 rounded-full shadow-sm",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-green-700",children:"Online"})]}),e?u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-50 dark:bg-gray-800 rounded-xl shadow-sm",children:[e.photoURL?u.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-9 h-9 rounded-full border-2 border-white shadow-md"}):u.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white shadow-md",children:u.jsx(co,{size:18})}),u.jsxs("div",{className:"hidden sm:flex flex-col truncate max-w-[120px]",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:e.displayName}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.email})]})]}),u.jsx("button",{onClick:t,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md",title:"Sign Out",children:u.jsx(F0,{size:20})})]}):u.jsx("button",{onClick:n,className:"px-6 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 shadow-md hover:shadow-lg transition-all duration-200 font-medium text-sm transform hover:scale-105",children:"Sign In"})]})]})}),J0=({message:e,isTyping:t=!1,onAssistantSpoken:n,isSpeaking:r})=>{const s=e.role==="user",[i,o]=C.useState(""),[a,l]=C.useState(0);C.useRef(null);const[c,f]=C.useState(!1);return C.useEffect(()=>{if(s){o(e.content);return}if(e.content.length===0){o(""),l(0),f(!1);return}if(e.content.length<i.length){o(e.content),l(e.content.length),f(!1);return}if(e.content.length>i.length){const m=e.content.slice(0,a+1);if(o(m),a<e.content.length-1){const p=setTimeout(()=>{l(x=>x+1)},30);return()=>clearTimeout(p)}}},[e.content,s,a,i.length]),C.useEffect(()=>()=>{window.speechSynthesis.cancel()},[i,s,t,c,n]),u.jsxs("div",{className:`flex items-start gap-4 mb-6 ${s?"flex-row-reverse":""}`,children:[u.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center shadow-lg ${s?"bg-gradient-to-br from-blue-500 to-purple-500 text-white":"bg-gradient-to-br from-emerald-500 to-teal-500 text-white"}`,children:s?u.jsx(co,{size:18}):u.jsx(pc,{size:18})}),u.jsxs("div",{className:`max-w-[75%] ${s?"text-right":"text-left"}`,children:[u.jsx("div",{className:`inline-block p-4 rounded-2xl shadow-sm relative ${s?"bg-gradient-to-br from-blue-500 to-purple-500 text-white":"bg-white border border-slate-200 text-slate-800"}`,children:!s&&t&&e.content.length===0?u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),u.jsx("span",{className:"text-sm text-slate-500",children:"Accord is thinking..."})]}):u.jsxs("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:[i,!s&&t&&u.jsx("span",{className:"inline-block w-0.5 h-4 bg-slate-400 ml-1 animate-pulse"})]})}),u.jsxs("div",{className:`mt-2 text-xs text-slate-500 ${s?"text-right":"text-left"}`,children:[u.jsx("span",{className:"hidden xs:inline",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.jsx("span",{className:"xs:hidden",children:e.timestamp.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}),!s&&(e.detectedLanguage||e.source)&&u.jsxs("span",{className:"ml-1 sm:ml-2 text-xs",children:[e.detectedLanguage&&u.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800 mr-1",children:["🌐 ",e.detectedLanguage]}),e.source==="custom-dataset"&&u.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-green-100 text-green-800 mr-1",children:"📚 Dataset"}),e.source==="gemini"&&u.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-purple-100 text-purple-800 mr-1",children:"🤖 AI"}),e.confidence&&u.jsxs("span",{className:"text-slate-400",children:[Math.round(e.confidence*100),"%"]})]}),r&&!s&&u.jsx("span",{className:"ml-1 sm:ml-2 text-purple-400",children:"🔊"})]})]})]})},Y0=()=>u.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[u.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center bg-gradient-to-br from-emerald-500 to-teal-500 text-white shadow-lg",children:u.jsx(pc,{size:18})}),u.jsx("div",{className:"max-w-[75%]",children:u.jsx("div",{className:"inline-block p-4 rounded-2xl bg-white border border-slate-200 shadow-sm",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),u.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),u.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),u.jsx("span",{className:"text-sm text-slate-500",children:"Accord is thinking..."})]})})})]}),X0=({onSendMessage:e,onSendFile:t,isLoading:n,error:r,isListening:s,onVoiceInput:i,setIsListening:o,setIsTyping:a,disabled:l=!1})=>{const[c,f]=C.useState(""),[m,p]=C.useState(null),x=C.useRef(null),y=C.useRef(null),S=C.useRef(null),v=b=>{b.preventDefault(),m?(t(m,c.trim()||void 0),p(null),f(""),a(!1)):c.trim()&&!n&&!l&&(e(c.trim()),f(""),a(!1))},h=b=>{var H;const A=(H=b.target.files)==null?void 0:H[0];A&&(["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","image/jpeg","image/jpg","image/png","image/gif","image/bmp","image/tiff"].includes(A.type)?p(A):alert("Please select a PDF, Word document, or image file.")),y.current&&(y.current.value="")},d=()=>{p(null),y.current&&(y.current.value="")},g=b=>b.type==="application/pdf"?u.jsx(Yo,{size:16,className:"text-red-600"}):b.type.includes("word")||b.type.includes("document")?u.jsx(Yo,{size:16,className:"text-cyan-600"}):b.type.startsWith("image/")?u.jsx(M0,{size:16,className:"text-green-600"}):u.jsx(Yo,{size:16,className:"text-gray-600"}),w=b=>b.type==="application/pdf"?"PDF Document":b.type.includes("word")||b.type.includes("document")?"Word Document":b.type.startsWith("image/")?"Image (OCR)":"Document",_=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),v(b))};C.useEffect(()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${Math.min(x.current.scrollHeight,120)}px`)},[c]),C.useEffect(()=>{var H;if(!s){(H=S.current)==null||H.stop();return}if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Speech recognition not supported in this browser."),o(!1);return}const b=window.SpeechRecognition||window.webkitSpeechRecognition,A=new b;A.lang="en-US",A.interimResults=!0,A.continuous=!1,A.onresult=Oe=>{let Ie="";for(let oe=0;oe<Oe.results.length;++oe)Ie+=Oe.results[oe][0].transcript;f(Ie),a(Ie.trim().length>0),i(Ie)},A.onend=()=>{o(!1)},A.onerror=()=>{o(!1)},S.current=A,A.start()},[s,o,a,i]);const I=()=>o(!s),k=()=>{var b;return(b=y.current)==null?void 0:b.click()},N=(c.trim()||m)&&!n&&!l;return u.jsx("div",{className:"w-full",children:u.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[u.jsxs("div",{className:"mb-2 text-xs font-semibold text-slate-500 text-right",children:[c.length," character",c.length!==1?"s":""]}),r&&u.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3 text-red-700",children:[u.jsx(lp,{size:18,className:"flex-shrink-0"}),u.jsx("span",{className:"font-medium",children:r})]}),m&&u.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[g(m),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("span",{className:"text-sm font-medium text-blue-800 block truncate",children:m.name}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 mt-1",children:[u.jsx("span",{children:w(m)}),u.jsx("span",{children:"•"}),u.jsxs("span",{children:["(",(m.size/1024/1024).toFixed(1)," MB)"]})]})]})]}),u.jsx("button",{onClick:d,className:"text-blue-400 hover:text-red-500 transition-colors p-2 hover:bg-red-50 rounded-lg",title:"Remove file",children:u.jsx(wn,{size:16})})]}),u.jsx("p",{className:"text-xs text-blue-600 mt-2",children:c.trim()?"Custom prompt will be used with file content":"File will be analyzed automatically"})]}),u.jsx("div",{className:"relative",children:u.jsxs("form",{onSubmit:v,className:"flex items-end gap-3",children:[u.jsx("button",{type:"button",onClick:I,disabled:l,className:`flex-shrink-0 w-12 h-12 rounded-xl ${s?"bg-red-100 text-red-600 animate-pulse shadow-lg":"bg-slate-100 text-slate-600 hover:bg-blue-50 hover:text-blue-600 shadow-sm"} flex items-center justify-center transition-all duration-200 ${l?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,title:s?"Stop listening":"Voice input",children:s?u.jsx($0,{size:20}):u.jsx(H0,{size:20})}),u.jsx("button",{type:"button",onClick:k,disabled:l,className:`flex-shrink-0 w-12 h-12 rounded-xl bg-slate-100 text-slate-600 hover:bg-orange-50 hover:text-orange-600 shadow-sm flex items-center justify-center transition-all duration-200 ${l?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,title:"Upload Files",children:u.jsx(V0,{size:20})}),u.jsx("input",{ref:y,type:"file",accept:".pdf,.docx,.doc,image/*",onChange:h,className:"hidden"}),u.jsx("div",{className:"flex-1 relative",children:u.jsxs("div",{className:"relative bg-white border-2 border-slate-200 rounded-2xl shadow-sm hover:shadow-md transition-all duration-200 focus-within:border-blue-500 focus-within:shadow-lg",children:[u.jsx("textarea",{ref:x,value:c,onChange:b=>{f(b.target.value),a(b.target.value.trim().length>0)},onKeyDown:_,placeholder:l?"Upgrade to continue chatting...":m?"Add a custom prompt for the file (optional)...":"Type your message here...",disabled:n||l,className:"w-full resize-none rounded-2xl px-4 py-4 pr-12 text-sm leading-6 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed min-h-[56px] max-h-[120px] bg-transparent placeholder:text-slate-400 text-slate-800",rows:1}),u.jsx("button",{type:"button",disabled:l,className:"absolute right-3 top-1/2 -translate-y-1/2 w-8 h-8 rounded-lg hover:bg-slate-100 text-slate-400 hover:text-slate-600 flex items-center justify-center transition-colors duration-200 disabled:opacity-50",children:u.jsx(q0,{size:18})})]})}),u.jsx("button",{type:"submit",disabled:!N,className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 ${N?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,title:m?"Send File":"Send message",children:u.jsx(W0,{size:20,className:`transition-transform duration-200 ${N?"hover:translate-x-0.5 hover:-translate-y-0.5":""}`})})]})}),u.jsxs("div",{className:"mt-3 text-xs text-slate-500 text-center",children:[u.jsx("span",{className:"hidden sm:inline",children:"Press Enter to send • Shift+Enter for new line • Click 📎 to upload files • 🎤 for voice input"}),u.jsx("span",{className:"sm:hidden",children:"Tap to send • 📎 files • 🎤 voice"})]})]})})},Z0=({isOpen:e,onClose:t,onGoogleSignIn:n,onEmailSignIn:r,onEmailSignUp:s,onForgotPassword:i})=>{const[o,a]=C.useState(!1),[l,c]=C.useState(!1),[f,m]=C.useState(""),[p,x]=C.useState(""),[y,S]=C.useState(""),[v,h]=C.useState(!1),[d,g]=C.useState(!1),[w,_]=C.useState(""),[I,k]=C.useState("");if(!e)return null;const N=async oe=>{oe.preventDefault(),g(!0),_(""),k("");try{l?i&&(await i(f),k("Password reset link sent to your email!")):o?(await s(f,p,y),t()):(await r(f,p),t())}catch(wr){_(wr.message||"An error occurred")}finally{g(!1)}},b=async()=>{g(!0),_(""),k("");try{await n(),t()}catch(oe){_(oe.message||"An error occurred")}finally{g(!1)}},A=()=>{m(""),x(""),S(""),_(""),k("")},H=()=>{a(!1),c(!1),A()},Oe=()=>{a(!0),c(!1),A()},Ie=()=>{c(!0),a(!1),A()};return u.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:u.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl max-w-md w-full relative overflow-y-hidden shadow-2xl",children:[u.jsxs("div",{className:"bg-gradient-to-r from-cyan-500 via-blue-500 to-indigo-500 p-6 text-white relative",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/80 hover:text-white bg-white/20 rounded-full p-1 transition-all",children:u.jsx(wn,{size:20})}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:l?"🔑 Reset Password":o?"🌟 Join Accord GPT":"✨ Welcome Back"}),u.jsx("p",{className:"text-white/90 text-sm",children:l?"Enter your email to receive a password reset link":o?"Create your account for unlimited AI conversations":"Sign in to continue your AI journey"})]})]}),u.jsxs("div",{className:"p-6",children:[w&&u.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4 shadow-sm",children:["⚠️ ",w]}),I&&u.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4 shadow-sm",children:["✅ ",I]}),!l&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:b,disabled:d,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-black font-medium py-3 px-4 rounded-lg hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:transform-none mb-4 shadow-lg flex items-center justify-center gap-3",children:[u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"white",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"white",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"white",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"white",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d?"🔄 Connecting...":"🚀 Continue with Google"]}),u.jsxs("div",{className:"relative mb-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-3 bg-white text-gray-500 font-medium",children:"or continue with email"})})]})]}),u.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o&&!l&&u.jsxs("div",{className:"relative",children:[u.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-cyan-400",size:20}),u.jsx("input",{type:"text",placeholder:"✨ Display Name",value:y,onChange:oe=>S(oe.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-cyan-200 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all bg-gradient-to-r from-cyan-50 to-blue-50 text-black",required:!0})]}),u.jsxs("div",{className:"relative",children:[u.jsx(z0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-400",size:20}),u.jsx("input",{type:"email",placeholder:"📧 Email Address",value:f,onChange:oe=>m(oe.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gradient-to-r from-blue-50 to-purple-50 text-black",required:!0})]}),!l&&u.jsxs("div",{className:"relative",children:[u.jsx(U0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-green-400",size:20}),u.jsx("input",{type:v?"text":"password",placeholder:"🔒 Password",value:p,onChange:oe=>x(oe.target.value),className:"w-full pl-10 pr-12 py-3 border-2 border-green-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all bg-gradient-to-r from-green-50 to-blue-50 text-black",required:!0}),u.jsx("button",{type:"button",onClick:()=>h(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:v?u.jsx(L0,{size:20}):u.jsx(D0,{size:20})})]}),u.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-medium py-3 rounded-lg hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 disabled:transform-none shadow-lg",children:d?"⏳ Loading...":l?"📧 Send Reset Link":o?"🎉 Create Account":"🚀 Sign In"})]}),u.jsxs("div",{className:"text-center mt-6 space-y-2",children:[!l&&!o&&u.jsx("button",{onClick:Ie,className:"block w-full text-sm text-gray-500 hover:text-purple-600 transition-colors",children:"Forgot your password?"}),l?u.jsx("button",{onClick:H,className:"text-purple-600 hover:text-purple-700 text-sm font-medium transition-colors",children:"← Back to Sign In"}):u.jsx("button",{onClick:o?H:Oe,className:"text-purple-600 hover:text-purple-700 text-sm font-medium transition-colors",children:o?"👋 Already have an account? Sign in":"🌟 Don't have an account? Sign up"})]})]})]})})},ev=({trialStatus:e,onSignInClick:t,isAnonymous:n})=>{const[r,s]=C.useState("");if(C.useEffect(()=>{if(!e||!e.trialEndTime||!n)return;const a=setInterval(()=>{const l=new Date,f=new Date(e.trialEndTime).getTime()-l.getTime();if(f<=0){s("Expired"),clearInterval(a);return}const m=Math.floor(f/(1e3*60)),p=Math.floor(f%(1e3*60)/1e3);s(`${m}:${p.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(a)},[e,n]),!n||!e||e.isPremium)return null;const i=Math.max(0,e.maxMessages-e.messageCount);return!e.isTrialActive||i===0||r==="Expired"?u.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-red-400 text-white p-2 sm:p-3 md:p-4 rounded-lg sm:rounded-xl mb-3 sm:mb-4 shadow-soft mx-2 sm:mx-3 md:mx-4",children:u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 sm:gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[u.jsx(co,{className:"text-orange-100 flex-shrink-0 w-4 h-4 sm:w-5 sm:h-5"}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h3",{className:"font-semibold text-sm sm:text-base",children:"✨ Trial Complete"}),u.jsx("p",{className:"text-orange-100 text-xs sm:text-sm",children:"Ready to continue your journey?"})]})]}),u.jsx("button",{onClick:t,className:"bg-white text-orange-600 px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2 rounded-md sm:rounded-lg font-medium hover:bg-orange-50 transition-colors text-xs sm:text-sm whitespace-nowrap touch-target",children:"Continue"})]})}):u.jsxs("div",{className:"sticky top-0 z-50 bg-gradient-to-r from-purple-500 to-violet-500  text-white p-2 sm:p-3 md:p-4 rounded-lg sm:rounded-xl mb-3 sm:mb-4 shadow-soft mx-2 sm:mx-3 md:mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2 sm:gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 md:gap-4 min-w-0 flex-1",children:[u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[u.jsx(j0,{className:"text-purple-100 flex-shrink-0 w-4 h-4 sm:w-[18px] sm:h-[18px]"}),u.jsx("span",{className:"font-medium text-xs sm:text-sm md:text-base",children:r})]}),u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[u.jsx(B0,{className:"text-purple-100 flex-shrink-0 w-4 h-4 sm:w-[18px] sm:h-[18px]"}),u.jsxs("span",{className:"font-medium text-xs sm:text-sm md:text-base",children:[i," left"]})]})]}),u.jsxs("button",{onClick:t,className:"bg-white text-purple-600 px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2 rounded-md sm:rounded-lg font-medium hover:bg-purple-50 transition-colors text-xs sm:text-sm whitespace-nowrap touch-target",children:[u.jsx("span",{className:"hidden sm:inline",children:"Sign In for Unlimited"}),u.jsx("span",{className:"sm:hidden",children:"Sign In"})]})]}),u.jsxs("div",{className:"mt-2 sm:mt-3",children:[u.jsx("div",{className:"w-full bg-blue-300 bg-opacity-30 rounded-full h-1.5 sm:h-2",children:u.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${Math.max(10,i/e.maxMessages*100)}%`}})}),u.jsx("p",{className:"text-xs text-purple-100 mt-1 text-center",children:"🌱 Your mindful trial experience"})]})]})},si=[{id:"free",name:"Free",price:0,currency:"INR",duration:"monthly",features:["10 messages per day","Basic AI responses","Text chat only","Community support"],messageLimit:10},{id:"basic_monthly",name:"Basic",price:599,currency:"INR",duration:"monthly",features:["500 messages per month","Enhanced AI responses","Voice chat included","File upload support","Email support"],messageLimit:500},{id:"basic_yearly",name:"Basic",price:5999,currency:"INR",duration:"yearly",features:["500 messages per month","Enhanced AI responses","Voice chat included","File upload support","Email support","2 months free"],messageLimit:500,discount:17},{id:"pro_monthly",name:"Pro",price:1499,currency:"INR",duration:"monthly",features:["Unlimited messages","Advanced AI model","Voice chat & synthesis","Priority file processing","Custom prompts","Priority support"],messageLimit:-1,isPopular:!0},{id:"pro_yearly",name:"Pro",price:14999,currency:"INR",duration:"yearly",features:["Unlimited messages","Advanced AI model","Voice chat & synthesis","Priority file processing","Custom prompts","Priority support","2 months free"],messageLimit:-1,isPopular:!0,discount:17},{id:"enterprise",name:"Enterprise",price:4999,currency:"INR",duration:"monthly",features:["Everything in Pro","Team collaboration","API access","Custom integrations","Dedicated support","SLA guarantee"],messageLimit:-1}];function dp(e,t){return function(){return e.apply(t,arguments)}}const{toString:tv}=Object.prototype,{getPrototypeOf:gc}=Object,{iterator:uo,toStringTag:fp}=Symbol,fo=(e=>t=>{const n=tv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),st=e=>(e=e.toLowerCase(),t=>fo(t)===e),ho=e=>t=>typeof t===e,{isArray:mr}=Array,fs=ho("undefined");function nv(e){return e!==null&&!fs(e)&&e.constructor!==null&&!fs(e.constructor)&&Pe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hp=st("ArrayBuffer");function rv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&hp(e.buffer),t}const sv=ho("string"),Pe=ho("function"),pp=ho("number"),po=e=>e!==null&&typeof e=="object",iv=e=>e===!0||e===!1,ii=e=>{if(fo(e)!=="object")return!1;const t=gc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(fp in e)&&!(uo in e)},ov=st("Date"),av=st("File"),lv=st("Blob"),cv=st("FileList"),uv=e=>po(e)&&Pe(e.pipe),dv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Pe(e.append)&&((t=fo(e))==="formdata"||t==="object"&&Pe(e.toString)&&e.toString()==="[object FormData]"))},fv=st("URLSearchParams"),[hv,pv,mv,gv]=["ReadableStream","Request","Response","Headers"].map(st),yv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),mr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function mp(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const pn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gp=e=>!fs(e)&&e!==pn;function il(){const{caseless:e}=gp(this)&&this||{},t={},n=(r,s)=>{const i=e&&mp(t,s)||s;ii(t[i])&&ii(r)?t[i]=il(t[i],r):ii(r)?t[i]=il({},r):mr(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&xs(arguments[r],n);return t}const vv=(e,t,n,{allOwnKeys:r}={})=>(xs(t,(s,i)=>{n&&Pe(s)?e[i]=dp(s,n):e[i]=s},{allOwnKeys:r}),e),wv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xv=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Sv=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&gc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ev=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},kv=e=>{if(!e)return null;if(mr(e))return e;let t=e.length;if(!pp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_v=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gc(Uint8Array)),Iv=(e,t)=>{const r=(e&&e[uo]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Tv=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Nv=st("HTMLFormElement"),Cv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Ju=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),bv=st("RegExp"),yp=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xs(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},Rv=e=>{yp(e,(t,n)=>{if(Pe(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Pe(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Pv=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return mr(e)?r(e):r(String(e).split(t)),n},Av=()=>{},jv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ov(e){return!!(e&&Pe(e.append)&&e[fp]==="FormData"&&e[uo])}const Lv=e=>{const t=new Array(10),n=(r,s)=>{if(po(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=mr(r)?[]:{};return xs(r,(o,a)=>{const l=n(o,s+1);!fs(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},Dv=st("AsyncFunction"),Mv=e=>e&&(po(e)||Pe(e))&&Pe(e.then)&&Pe(e.catch),vp=((e,t)=>e?setImmediate:t?((n,r)=>(pn.addEventListener("message",({source:s,data:i})=>{s===pn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),pn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pe(pn.postMessage)),Uv=typeof queueMicrotask<"u"?queueMicrotask.bind(pn):typeof process<"u"&&process.nextTick||vp,Fv=e=>e!=null&&Pe(e[uo]),E={isArray:mr,isArrayBuffer:hp,isBuffer:nv,isFormData:dv,isArrayBufferView:rv,isString:sv,isNumber:pp,isBoolean:iv,isObject:po,isPlainObject:ii,isReadableStream:hv,isRequest:pv,isResponse:mv,isHeaders:gv,isUndefined:fs,isDate:ov,isFile:av,isBlob:lv,isRegExp:bv,isFunction:Pe,isStream:uv,isURLSearchParams:fv,isTypedArray:_v,isFileList:cv,forEach:xs,merge:il,extend:vv,trim:yv,stripBOM:wv,inherits:xv,toFlatObject:Sv,kindOf:fo,kindOfTest:st,endsWith:Ev,toArray:kv,forEachEntry:Iv,matchAll:Tv,isHTMLForm:Nv,hasOwnProperty:Ju,hasOwnProp:Ju,reduceDescriptors:yp,freezeMethods:Rv,toObjectSet:Pv,toCamelCase:Cv,noop:Av,toFiniteNumber:jv,findKey:mp,global:pn,isContextDefined:gp,isSpecCompliantForm:Ov,toJSONObject:Lv,isAsyncFn:Dv,isThenable:Mv,setImmediate:vp,asap:Uv,isIterable:Fv};function L(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}E.inherits(L,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const wp=L.prototype,xp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xp[e]={value:e}});Object.defineProperties(L,xp);Object.defineProperty(wp,"isAxiosError",{value:!0});L.from=(e,t,n,r,s,i)=>{const o=Object.create(wp);return E.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),L.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const zv=null;function ol(e){return E.isPlainObject(e)||E.isArray(e)}function Sp(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function Yu(e,t,n){return e?e.concat(t).map(function(s,i){return s=Sp(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Bv(e){return E.isArray(e)&&!e.some(ol)}const $v=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function mo(e,t,n){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,v){return!E.isUndefined(v[S])});const r=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(E.isDate(y))return y.toISOString();if(E.isBoolean(y))return y.toString();if(!l&&E.isBlob(y))throw new L("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(y)||E.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,S,v){let h=y;if(y&&!v&&typeof y=="object"){if(E.endsWith(S,"{}"))S=r?S:S.slice(0,-2),y=JSON.stringify(y);else if(E.isArray(y)&&Bv(y)||(E.isFileList(y)||E.endsWith(S,"[]"))&&(h=E.toArray(y)))return S=Sp(S),h.forEach(function(g,w){!(E.isUndefined(g)||g===null)&&t.append(o===!0?Yu([S],w,i):o===null?S:S+"[]",c(g))}),!1}return ol(y)?!0:(t.append(Yu(v,S,i),c(y)),!1)}const m=[],p=Object.assign($v,{defaultVisitor:f,convertValue:c,isVisitable:ol});function x(y,S){if(!E.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+S.join("."));m.push(y),E.forEach(y,function(h,d){(!(E.isUndefined(h)||h===null)&&s.call(t,h,E.isString(d)?d.trim():d,S,p))===!0&&x(h,S?S.concat(d):[d])}),m.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return x(e),t}function Xu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function yc(e,t){this._pairs=[],e&&mo(e,this,t)}const Ep=yc.prototype;Ep.append=function(t,n){this._pairs.push([t,n])};Ep.toString=function(t){const n=t?function(r){return t.call(this,r,Xu)}:Xu;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Hv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kp(e,t,n){if(!t)return e;const r=n&&n.encode||Hv;E.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=E.isURLSearchParams(t)?t.toString():new yc(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Zu{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(r){r!==null&&t(r)})}}const _p={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vv=typeof URLSearchParams<"u"?URLSearchParams:yc,Wv=typeof FormData<"u"?FormData:null,qv=typeof Blob<"u"?Blob:null,Kv={isBrowser:!0,classes:{URLSearchParams:Vv,FormData:Wv,Blob:qv},protocols:["http","https","file","blob","url","data"]},vc=typeof window<"u"&&typeof document<"u",al=typeof navigator=="object"&&navigator||void 0,Gv=vc&&(!al||["ReactNative","NativeScript","NS"].indexOf(al.product)<0),Qv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Jv=vc&&window.location.href||"http://localhost",Yv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vc,hasStandardBrowserEnv:Gv,hasStandardBrowserWebWorkerEnv:Qv,navigator:al,origin:Jv},Symbol.toStringTag,{value:"Module"})),ve={...Yv,...Kv};function Xv(e,t){return mo(e,new ve.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return ve.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Zv(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ew(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Ip(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&E.isArray(s)?s.length:o,l?(E.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!E.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&E.isArray(s[o])&&(s[o]=ew(s[o])),!a)}if(E.isFormData(e)&&E.isFunction(e.entries)){const n={};return E.forEachEntry(e,(r,s)=>{t(Zv(r),s,n,0)}),n}return null}function tw(e,t,n){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Ss={transitional:_p,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=E.isObject(t);if(i&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(Ip(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Xv(t,this.formSerializer).toString();if((a=E.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return mo(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),tw(t)):t}],transformResponse:[function(t){const n=this.transitional||Ss.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?L.from(a,L.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ve.classes.FormData,Blob:ve.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{Ss.headers[e]={}});const nw=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rw=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&nw[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ed=Symbol("internals");function Pr(e){return e&&String(e).trim().toLowerCase()}function oi(e){return e===!1||e==null?e:E.isArray(e)?e.map(oi):String(e)}function sw(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const iw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xo(e,t,n,r,s){if(E.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!E.isString(t)){if(E.isString(r))return t.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(t)}}function ow(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function aw(e,t){const n=E.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}class Ae{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,c){const f=Pr(l);if(!f)throw new Error("header name must be a non-empty string");const m=E.findKey(s,f);(!m||s[m]===void 0||c===!0||c===void 0&&s[m]!==!1)&&(s[m||l]=oi(a))}const o=(a,l)=>E.forEach(a,(c,f)=>i(c,f,l));if(E.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(E.isString(t)&&(t=t.trim())&&!iw(t))o(rw(t),n);else if(E.isObject(t)&&E.isIterable(t)){let a={},l,c;for(const f of t){if(!E.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[c=f[0]]=(l=a[c])?E.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Pr(t),t){const r=E.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return sw(s);if(E.isFunction(n))return n.call(this,s,r);if(E.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Pr(t),t){const r=E.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Xo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Pr(o),o){const a=E.findKey(r,o);a&&(!n||Xo(r,r[a],a,n))&&(delete r[a],s=!0)}}return E.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Xo(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return E.forEach(this,(s,i)=>{const o=E.findKey(r,i);if(o){n[o]=oi(s),delete n[i];return}const a=t?ow(i):String(i).trim();a!==i&&delete n[i],n[a]=oi(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return E.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ed]=this[ed]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Pr(o);r[a]||(aw(s,o),r[a]=!0)}return E.isArray(t)?t.forEach(i):i(t),this}}Ae.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(Ae.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});E.freezeMethods(Ae);function Zo(e,t){const n=this||Ss,r=t||n,s=Ae.from(r.headers);let i=r.data;return E.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Tp(e){return!!(e&&e.__CANCEL__)}function gr(e,t,n){L.call(this,e??"canceled",L.ERR_CANCELED,t,n),this.name="CanceledError"}E.inherits(gr,L,{__CANCEL__:!0});function Np(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new L("Request failed with status code "+n.status,[L.ERR_BAD_REQUEST,L.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cw(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),f=r[i];o||(o=c),n[s]=l,r[s]=c;let m=i,p=0;for(;m!==s;)p+=n[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const x=f&&c-f;return x?Math.round(p*1e3/x):void 0}}function uw(e,t){let n=0,r=1e3/t,s,i;const o=(c,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const f=Date.now(),m=f-n;m>=r?o(c,f):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-m)))},()=>s&&o(s)]}const Di=(e,t,n=3)=>{let r=0;const s=cw(50,250);return uw(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),f=o<=a;r=o;const m={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&f?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(m)},n)},td=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},nd=e=>(...t)=>E.asap(()=>e(...t)),dw=ve.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ve.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ve.origin),ve.navigator&&/(msie|trident)/i.test(ve.navigator.userAgent)):()=>!0,fw=ve.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];E.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),E.isString(r)&&o.push("path="+r),E.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Cp(e,t,n){let r=!hw(t);return e&&(r||n==!1)?pw(e,t):t}const rd=e=>e instanceof Ae?{...e}:e;function Nn(e,t){t=t||{};const n={};function r(c,f,m,p){return E.isPlainObject(c)&&E.isPlainObject(f)?E.merge.call({caseless:p},c,f):E.isPlainObject(f)?E.merge({},f):E.isArray(f)?f.slice():f}function s(c,f,m,p){if(E.isUndefined(f)){if(!E.isUndefined(c))return r(void 0,c,m,p)}else return r(c,f,m,p)}function i(c,f){if(!E.isUndefined(f))return r(void 0,f)}function o(c,f){if(E.isUndefined(f)){if(!E.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function a(c,f,m){if(m in t)return r(c,f);if(m in e)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,f,m)=>s(rd(c),rd(f),m,!0)};return E.forEach(Object.keys(Object.assign({},e,t)),function(f){const m=l[f]||s,p=m(e[f],t[f],f);E.isUndefined(p)&&m!==a||(n[f]=p)}),n}const bp=e=>{const t=Nn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=Ae.from(o),t.url=kp(Cp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(E.isFormData(n)){if(ve.hasStandardBrowserEnv||ve.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...f]=l?l.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...f].join("; "))}}if(ve.hasStandardBrowserEnv&&(r&&E.isFunction(r)&&(r=r(t)),r||r!==!1&&dw(t.url))){const c=s&&i&&fw.read(i);c&&o.set(s,c)}return t},mw=typeof XMLHttpRequest<"u",gw=mw&&function(e){return new Promise(function(n,r){const s=bp(e);let i=s.data;const o=Ae.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,f,m,p,x,y;function S(){x&&x(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function h(){if(!v)return;const g=Ae.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:g,config:e,request:v};Np(function(k){n(k),S()},function(k){r(k),S()},_),v=null}"onloadend"in v?v.onloadend=h:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(h)},v.onabort=function(){v&&(r(new L("Request aborted",L.ECONNABORTED,e,v)),v=null)},v.onerror=function(){r(new L("Network Error",L.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||_p;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),r(new L(w,_.clarifyTimeoutError?L.ETIMEDOUT:L.ECONNABORTED,e,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&E.forEach(o.toJSON(),function(w,_){v.setRequestHeader(_,w)}),E.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),a&&a!=="json"&&(v.responseType=s.responseType),c&&([p,y]=Di(c,!0),v.addEventListener("progress",p)),l&&v.upload&&([m,x]=Di(l),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(f=g=>{v&&(r(!g||g.type?new gr(null,e,v):g),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const d=lw(s.url);if(d&&ve.protocols.indexOf(d)===-1){r(new L("Unsupported protocol "+d+":",L.ERR_BAD_REQUEST,e));return}v.send(i||null)})},yw=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const f=c instanceof Error?c:this.reason;r.abort(f instanceof L?f:new gr(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new L(`timeout ${t} of ms exceeded`,L.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>E.asap(a),l}},vw=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},ww=async function*(e,t){for await(const n of xw(e))yield*vw(n,t)},xw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},sd=(e,t,n,r)=>{const s=ww(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:f}=await s.next();if(c){a(),l.close();return}let m=f.byteLength;if(n){let p=i+=m;n(p)}l.enqueue(new Uint8Array(f))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},go=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Rp=go&&typeof ReadableStream=="function",Sw=go&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Pp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ew=Rp&&Pp(()=>{let e=!1;const t=new Request(ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),id=64*1024,ll=Rp&&Pp(()=>E.isReadableStream(new Response("").body)),Mi={stream:ll&&(e=>e.body)};go&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Mi[t]&&(Mi[t]=E.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new L(`Response type '${t}' is not supported`,L.ERR_NOT_SUPPORT,r)})})})(new Response);const kw=async e=>{if(e==null)return 0;if(E.isBlob(e))return e.size;if(E.isSpecCompliantForm(e))return(await new Request(ve.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(E.isArrayBufferView(e)||E.isArrayBuffer(e))return e.byteLength;if(E.isURLSearchParams(e)&&(e=e+""),E.isString(e))return(await Sw(e)).byteLength},_w=async(e,t)=>{const n=E.toFiniteNumber(e.getContentLength());return n??kw(t)},Iw=go&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:f,withCredentials:m="same-origin",fetchOptions:p}=bp(e);c=c?(c+"").toLowerCase():"text";let x=yw([s,i&&i.toAbortSignal()],o),y;const S=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let v;try{if(l&&Ew&&n!=="get"&&n!=="head"&&(v=await _w(f,r))!==0){let _=new Request(t,{method:"POST",body:r,duplex:"half"}),I;if(E.isFormData(r)&&(I=_.headers.get("content-type"))&&f.setContentType(I),_.body){const[k,N]=td(v,Di(nd(l)));r=sd(_.body,id,k,N)}}E.isString(m)||(m=m?"include":"omit");const h="credentials"in Request.prototype;y=new Request(t,{...p,signal:x,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:h?m:void 0});let d=await fetch(y,p);const g=ll&&(c==="stream"||c==="response");if(ll&&(a||g&&S)){const _={};["status","statusText","headers"].forEach(b=>{_[b]=d[b]});const I=E.toFiniteNumber(d.headers.get("content-length")),[k,N]=a&&td(I,Di(nd(a),!0))||[];d=new Response(sd(d.body,id,k,()=>{N&&N(),S&&S()}),_)}c=c||"text";let w=await Mi[E.findKey(Mi,c)||"text"](d,e);return!g&&S&&S(),await new Promise((_,I)=>{Np(_,I,{data:w,headers:Ae.from(d.headers),status:d.status,statusText:d.statusText,config:e,request:y})})}catch(h){throw S&&S(),h&&h.name==="TypeError"&&/Load failed|fetch/i.test(h.message)?Object.assign(new L("Network Error",L.ERR_NETWORK,e,y),{cause:h.cause||h}):L.from(h,h&&h.code,e,y)}}),cl={http:zv,xhr:gw,fetch:Iw};E.forEach(cl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const od=e=>`- ${e}`,Tw=e=>E.isFunction(e)||e===null||e===!1,Ap={getAdapter:e=>{e=E.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!Tw(n)&&(r=cl[(o=String(n)).toLowerCase()],r===void 0))throw new L(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(od).join(`
`):" "+od(i[0]):"as no adapter specified";throw new L("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:cl};function ea(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gr(null,e)}function ad(e){return ea(e),e.headers=Ae.from(e.headers),e.data=Zo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ap.getAdapter(e.adapter||Ss.adapter)(e).then(function(r){return ea(e),r.data=Zo.call(e,e.transformResponse,r),r.headers=Ae.from(r.headers),r},function(r){return Tp(r)||(ea(e),r&&r.response&&(r.response.data=Zo.call(e,e.transformResponse,r.response),r.response.headers=Ae.from(r.response.headers))),Promise.reject(r)})}const jp="1.10.0",yo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yo[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ld={};yo.transitional=function(t,n,r){function s(i,o){return"[Axios v"+jp+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new L(s(o," has been removed"+(n?" in "+n:"")),L.ERR_DEPRECATED);return n&&!ld[o]&&(ld[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};yo.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Nw(e,t,n){if(typeof e!="object")throw new L("options must be an object",L.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new L("option "+i+" must be "+l,L.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new L("Unknown option "+i,L.ERR_BAD_OPTION)}}const ai={assertOptions:Nw,validators:yo},ot=ai.validators;class xn{constructor(t){this.defaults=t||{},this.interceptors={request:new Zu,response:new Zu}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Nn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&ai.assertOptions(r,{silentJSONParsing:ot.transitional(ot.boolean),forcedJSONParsing:ot.transitional(ot.boolean),clarifyTimeoutError:ot.transitional(ot.boolean)},!1),s!=null&&(E.isFunction(s)?n.paramsSerializer={serialize:s}:ai.assertOptions(s,{encode:ot.function,serialize:ot.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ai.assertOptions(n,{baseUrl:ot.spelling("baseURL"),withXsrfToken:ot.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[n.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=Ae.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(l=l&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});const c=[];this.interceptors.response.forEach(function(S){c.push(S.fulfilled,S.rejected)});let f,m=0,p;if(!l){const y=[ad.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),p=y.length,f=Promise.resolve(n);m<p;)f=f.then(y[m++],y[m++]);return f}p=a.length;let x=n;for(m=0;m<p;){const y=a[m++],S=a[m++];try{x=y(x)}catch(v){S.call(this,v);break}}try{f=ad.call(this,x)}catch(y){return Promise.reject(y)}for(m=0,p=c.length;m<p;)f=f.then(c[m++],c[m++]);return f}getUri(t){t=Nn(this.defaults,t);const n=Cp(t.baseURL,t.url,t.allowAbsoluteUrls);return kp(n,t.params,t.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(t){xn.prototype[t]=function(n,r){return this.request(Nn(r||{},{method:t,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Nn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}xn.prototype[t]=n(),xn.prototype[t+"Form"]=n(!0)});class wc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new gr(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new wc(function(s){t=s}),cancel:t}}}function Cw(e){return function(n){return e.apply(null,n)}}function bw(e){return E.isObject(e)&&e.isAxiosError===!0}const ul={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ul).forEach(([e,t])=>{ul[t]=e});function Op(e){const t=new xn(e),n=dp(xn.prototype.request,t);return E.extend(n,xn.prototype,t,{allOwnKeys:!0}),E.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Op(Nn(e,s))},n}const F=Op(Ss);F.Axios=xn;F.CanceledError=gr;F.CancelToken=wc;F.isCancel=Tp;F.VERSION=jp;F.toFormData=mo;F.AxiosError=L;F.Cancel=F.CanceledError;F.all=function(t){return Promise.all(t)};F.spread=Cw;F.isAxiosError=bw;F.mergeConfig=Nn;F.AxiosHeaders=Ae;F.formToJSON=e=>Ip(E.isHTMLForm(e)?new FormData(e):e);F.getAdapter=Ap.getAdapter;F.HttpStatusCode=ul;F.default=F;const ta="/api";class Rw{getAuthHeaders(){const t=localStorage.getItem("authToken");if(!t||t==="null"||t==="undefined")throw new Error("Authentication required. Please login again.");return{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}async createOrder(t){var n,r,s,i;try{const o=await F.post(`${ta}/payment/create-order`,t,{headers:this.getAuthHeaders(),timeout:1e4});return{success:o.data.success,order:o.data.success?{...o.data.order,key:o.data.key}:void 0,message:o.data.message}}catch(o){console.error("❌ Error creating payment order:",o);let a="Failed to create payment order";return o.code==="ECONNABORTED"?a="Request timeout. Please check your internet connection and try again.":((n=o.response)==null?void 0:n.status)===401?a="Authentication failed. Please login again.":((r=o.response)==null?void 0:r.status)>=500?a="Server error. Please try again later.":(i=(s=o.response)==null?void 0:s.data)!=null&&i.message&&(a=o.response.data.message),{success:!1,message:a}}}async verifyPayment(t){var n,r,s,i;try{return(await F.post(`${ta}/payment/verify-payment`,t,{headers:this.getAuthHeaders(),timeout:15e3})).data}catch(o){console.error("❌ Error verifying payment:",o);let a="Failed to verify payment";return o.code==="ECONNABORTED"?a="Payment verification timeout. Please contact support if amount was deducted.":((n=o.response)==null?void 0:n.status)===401?a="Authentication failed during payment verification.":((r=o.response)==null?void 0:r.status)>=500?a="Server error during payment verification. Please contact support.":(i=(s=o.response)==null?void 0:s.data)!=null&&i.message&&(a=o.response.data.message),{success:!1,message:a}}}async getPaymentHistory(){var t,n;try{return(await F.get(`${ta}/payment/history`,{headers:this.getAuthHeaders()})).data}catch(r){return console.error("❌ Error fetching payment history:",r),{success:!1,message:((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to fetch payment history"}}}initializeRazorpay(t,n,r){const s={key:t.key,amount:t.amount,currency:t.currency,name:"Accord AI",description:"Subscription Payment",order_id:t.id,handler:i=>{console.log("✅ Payment successful:",i),n(i)},prefill:{name:"User Name",email:"user@example.com",contact:"9999999999"},theme:{color:"#3B82F6"},modal:{ondismiss:()=>{console.log("💔 Payment cancelled by user"),r(new Error("Payment cancelled by user"))}}};typeof window.Razorpay<"u"?new window.Razorpay(s).open():(console.error("❌ Razorpay SDK not loaded"),r(new Error("Razorpay SDK not loaded")))}}const na=new Rw,Pw=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(null);return{isProcessing:e,error:n,processPayment:async o=>{if(o.price===0)return{success:!0,message:"Free plan, no payment required"};t(!0),r(null);try{if(!navigator.onLine)throw new Error("No internet connection. Please check your network and try again.");if(typeof window.Razorpay>"u")throw new Error("Payment system is not available. Please refresh the page and try again.");console.log("🚀 Creating payment order for plan:",o.name);const a={planId:o.id,amount:o.price,currency:"INR"},l=await na.createOrder(a);if(!l.success||!l.order)throw new Error(l.message||"Failed to create payment order");return console.log("✅ Payment order created:",l.order.id),new Promise(c=>{na.initializeRazorpay(l.order,async f=>{try{console.log("🔍 Verifying payment:",f.razorpay_payment_id);const m={razorpay_order_id:f.razorpay_order_id,razorpay_payment_id:f.razorpay_payment_id,razorpay_signature:f.razorpay_signature},p=await na.verifyPayment(m);if(p.success)console.log("✅ Payment verified successfully"),c({success:!0,paymentId:f.razorpay_payment_id,message:"Payment successful!"});else throw new Error(p.message||"Payment verification failed")}catch(m){console.error("❌ Payment verification error:",m),r(m.message),c({success:!1,message:m.message})}finally{t(!1)}},f=>{console.error("❌ Payment error:",f),r(f.message||"Payment failed"),t(!1),c({success:!1,message:f.message||"Payment failed"})})})}catch(a){return console.error("❌ Payment processing error:",a),r(a.message),t(!1),{success:!1,message:a.message}}},clearError:()=>r(null)}},Aw=({isOpen:e,onClose:t,onSelectPlan:n,currentPlan:r="free"})=>{const[s,i]=C.useState("monthly"),[o,a]=C.useState(e),{isProcessing:l,error:c,processPayment:f,clearError:m}=Pw();C.useEffect(()=>{e&&a(!0)},[e]);const p=()=>{a(!1),setTimeout(t,300)},x=async d=>{if(m(),d.price===0){n(d);return}if(typeof window.Razorpay>"u"){console.error("Razorpay SDK not available");return}const g=await f(d);g.success&&n(d,g.paymentId)};if(!e&&!o)return null;const y=si.filter(d=>d.duration===s||d.id==="free"),S=d=>d.includes("pro")?u.jsx(mc,{className:"w-6 h-6 text-yellow-500"}):d.includes("enterprise")?u.jsx(G0,{className:"w-6 h-6 text-purple-500"}):d.includes("basic")?u.jsx(up,{className:"w-6 h-6 text-purple-500"}):u.jsx(Qu,{className:"w-6 h-6 text-green-500"}),v=(d,g)=>d===0?"Free":`₹${d.toLocaleString("en-IN")}/${g==="yearly"?"year":"month"}`,h=d=>d.duration==="yearly"?`₹${Math.round(d.price/12).toLocaleString("en-IN")}/month`:null;return u.jsx("div",{className:`fixed inset-0 z-40 flex items-start justify-center p-4 pt-20 bg-black/50 backdrop-blur-sm transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,children:u.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-3xl max-w-6xl w-full max-h-[95vh] overflow-hidden relative shadow-2xl transform transition-transform duration-300 ${e?"translate-y-0 opacity-100":"-translate-y-10 opacity-0"}`,children:[l&&u.jsx("div",{className:"absolute inset-0 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm flex items-center justify-center rounded-3xl z-20",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent animate-spin rounded-full mx-auto mb-4"}),u.jsx("p",{className:"text-gray-700 dark:text-gray-200 font-medium",children:"Processing payment..."})]})}),u.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 p-6 rounded-t-3xl z-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Choose Your Plan"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Unlock unlimited conversations & premium features"})]}),u.jsx("button",{onClick:p,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition",children:u.jsx(wn,{className:"w-6 h-6 text-gray-500 dark:text-gray-300"})})]}),u.jsx("div",{className:"flex items-center justify-center mt-4",children:u.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-xl p-1 flex w-full max-w-xs shadow-inner",children:["monthly","yearly"].map(d=>u.jsxs("button",{onClick:()=>i(d),className:`flex-1 px-5 py-2 rounded-xl font-medium text-sm md:text-base transition ${s===d?"bg-white dark:bg-gray-900 text-purple-600 shadow-md":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"} relative`,children:[d.charAt(0).toUpperCase()+d.slice(1),d==="yearly"&&u.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full shadow",children:"Save 17%"})]},d))})}),c&&u.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 rounded-lg flex items-center gap-2",children:[u.jsx(wn,{className:"w-5 h-5 text-red-500"}),u.jsx("span",{className:"text-red-700 dark:text-red-300 text-sm",children:c}),u.jsx("button",{onClick:m,className:"ml-auto text-red-500 hover:text-red-700",children:u.jsx(wn,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"p-6 overflow-x-hidden",children:u.jsx("div",{className:"flex flex-row gap-6 w-full",children:y.map(d=>u.jsxs("div",{className:`flex-1 min-w-[220px] relative p-4 rounded-2xl border-2 transition-transform transform hover:scale-105 ${d.isPopular?"border-blue-500 bg-gradient-to-br from-blue-50 to-purple-50 shadow-lg":r===d.id?"border-green-500 bg-gradient-to-br from-green-50 to-emerald-50 shadow-md":"border-gray-200 bg-white dark:bg-gray-800"}`,children:[d.isPopular&&u.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-bold shadow",children:"🔥 Most Popular"}),r===d.id&&u.jsx("div",{className:"absolute -top-4 right-4 bg-green-500 text-white px-4 py-1 rounded-full text-sm font-bold shadow",children:"✅ Current"}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center shadow-md",children:S(d.id)}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:d.name})]}),u.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:v(d.price,d.duration)}),h(d)&&u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[h(d)," billed annually"]})]}),u.jsx("div",{className:"space-y-3 mb-6",children:d.features.map((g,w)=>u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center mt-0.5",children:u.jsx(Qu,{className:"w-4 h-4 text-green-600 dark:text-green-300"})}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:g})]},w))}),u.jsx("button",{onClick:()=>x(d),disabled:r===d.id||l,className:`w-full py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 text-sm ${r===d.id?"bg-gray-100 dark:bg-gray-700 text-gray-500 cursor-not-allowed":d.isPopular?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg":d.price===0?"bg-gray-900 text-white hover:bg-gray-800":"bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white hover:border-gray-400 hover:shadow-md"}`,children:l?u.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent animate-spin rounded-full"}):r===d.id?"Current Plan":d.price===0?"Continue Free":u.jsxs(u.Fragment,{children:["Upgrade - ₹",d.price.toLocaleString("en-IN")]})})]},d.id))})}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6 bg-gray-50 dark:bg-black-900 text-center text-xs text-gray-600 dark:text-gray-300",children:[u.jsx("p",{children:"✨ 24/7 support & regular updates"}),u.jsx("p",{className:"mt-1",children:"💳 Secure payment • 🔒 Cancel anytime • 📧 No spam"})]})]})})},cd=({used:e,limit:t,planName:n,onUpgrade:r,className:s=""})=>{const i=t===-1,o=i?0:Math.round(e/t*100),a=i?1/0:Math.max(0,t-e),l=o>=80,c=o>=100,f=()=>i?"text-purple-600":c?"text-red-600":l?"text-orange-600":"text-green-600",m=()=>c?"bg-red-500":l?"bg-orange-500":"bg-green-500",p=()=>i?u.jsx(mc,{className:"w-4 h-4"}):c?u.jsx(cp,{className:"w-4 h-4"}):u.jsx(up,{className:"w-4 h-4"});return u.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 mt-6 ${s}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:f(),children:p()}),u.jsxs("span",{className:"font-medium text-gray-900",children:[n," Plan"]})]}),!i&&r&&(l||c)&&u.jsx("button",{onClick:r,className:"text-sm bg-purple-600 text-white px-3 py-1 rounded-full hover:bg-purple-700 transition-colors",children:"Upgrad"})]}),i?u.jsxs("div",{className:"text-center py-2",children:[u.jsx("p",{className:"text-purple-600 font-medium",children:"Unlimited Messages"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Enjoy unlimited AI conversations"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[u.jsx("span",{children:"Messages Used"}),u.jsxs("span",{children:[e," / ",t]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${m()}`,style:{width:`${Math.min(o,100)}%`}})})]}),u.jsx("div",{className:"text-center",children:c?u.jsxs("div",{className:"text-red-600",children:[u.jsx("p",{className:"font-medium",children:"Message limit reached"}),u.jsx("p",{className:"text-sm",children:"Upgrade to continue chatting"})]}):l?u.jsxs("div",{className:"text-orange-600",children:[u.jsxs("p",{className:"font-medium",children:[a," messages remaining"]}),u.jsx("p",{className:"text-sm",children:"Consider upgrading soon"})]}):u.jsxs("div",{className:"text-green-600",children:[u.jsxs("p",{className:"font-medium",children:[a," messages remaining"]}),u.jsx("p",{className:"text-sm",children:"You're all set!"})]})})]}),n==="Free"&&!c&&r&&u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:u.jsx("button",{onClick:r,className:"w-full text-sm bg-gradient-to-r from-purple-600 to-violet-600 text-white py-2 px-4 rounded-lg hover:from-purple-700 hover:to-violet-700 transition-all",children:"✨ Upgrade for Unlimited Messages"})})]})},Ar="/api",jw=()=>{const[e,t]=C.useState(null),[n,r]=C.useState([]),[s,i]=C.useState(""),[o,a]=C.useState({}),[l,c]=C.useState(""),[f,m]=C.useState(null),[p,x]=C.useState({category:"",key:"",response:""}),[y,S]=C.useState(!1),[v,h]=C.useState("");C.useEffect(()=>{d(),g()},[]);const d=async()=>{try{const k=await F.get(`${Ar}/dataset/stats`);k.data.success&&t(k.data.stats)}catch(k){console.error("Error loading stats:",k)}},g=async()=>{try{const k=await F.get(`${Ar}/dataset/categories`);k.data.success&&r(k.data.categories)}catch(k){console.error("Error loading categories:",k)}},w=async k=>{try{const N=await F.get(`${Ar}/dataset/category/${k}`);N.data.success&&(a(N.data.responses),i(k))}catch(N){console.error("Error loading category responses:",N)}},_=async()=>{if(l.trim()){S(!0);try{const k=await F.post(`${Ar}/dataset/test`,{message:l});k.data.success&&m(k.data.match)}catch(k){console.error("Error testing dataset:",k),h("Error testing message")}finally{S(!1)}}},I=async()=>{var k,N;if(!p.category||!p.key||!p.response){h("All fields are required");return}S(!0);try{(await F.post(`${Ar}/dataset/add`,p)).data.success&&(h("Response added successfully!"),x({category:"",key:"",response:""}),d(),g(),s===p.category&&w(s))}catch(b){console.error("Error adding response:",b),h(((N=(k=b.response)==null?void 0:k.data)==null?void 0:N.message)||"Error adding response")}finally{S(!1)}};return u.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Dataset Manager"}),v&&u.jsx("div",{className:`mb-4 p-3 rounded ${v.includes("Error")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:v}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-blue-800",children:"Total Responses"}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(e==null?void 0:e.totalResponses)||0})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-green-800",children:"Categories"}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:(e==null?void 0:e.totalCategories)||0})]}),u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[u.jsx("h3",{className:"font-semibold text-purple-800",children:"Largest Category"}),u.jsx("p",{className:"text-sm text-purple-600",children:e!=null&&e.categoryStats?Object.entries(e.categoryStats).reduce((k,N)=>k[1]>N[1]?k:N)[0]:"None"})]})]}),u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Test Dataset"}),u.jsxs("div",{className:"flex gap-2 mb-3",children:[u.jsx("input",{type:"text",value:l,onChange:k=>c(k.target.value),placeholder:"Enter a message to test...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:k=>k.key==="Enter"&&_()}),u.jsx("button",{onClick:_,disabled:y||!l.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Test"})]}),f&&u.jsxs("div",{className:"mt-3 p-3 bg-white rounded border",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("span",{className:"font-medium text-green-600",children:"Match Found!"}),u.jsxs("span",{className:"text-sm text-gray-500",children:[f.matchType," match (",(f.confidence*100).toFixed(1),"% confidence)"]})]}),u.jsx("p",{className:"text-gray-700 mb-2",children:f.response}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Category: ",f.category,f.matchedKey&&` | Key: ${f.matchedKey}`]})]}),l&&f===null&&!y&&u.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded border border-yellow-200",children:u.jsx("span",{className:"text-yellow-700",children:"No match found in dataset"})})]}),u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Add New Response"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),u.jsx("input",{type:"text",value:p.category,onChange:k=>x({...p,category:k.target.value}),placeholder:"e.g., greetings, technical, general",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key/Trigger"}),u.jsx("input",{type:"text",value:p.key,onChange:k=>x({...p,key:k.target.value}),placeholder:"e.g., hello, what is react",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response"}),u.jsx("textarea",{value:p.response,onChange:k=>x({...p,response:k.target.value}),placeholder:"Enter the response text...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsx("button",{onClick:I,disabled:y,className:"mt-3 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:"Add Response"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Categories"}),u.jsx("div",{className:"space-y-2",children:n.map(k=>u.jsx("button",{onClick:()=>w(k),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${s===k?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-medium",children:k}),u.jsxs("span",{className:"text-sm text-gray-500",children:[(e==null?void 0:e.categoryStats[k])||0," responses"]})]})},k))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:s?`Responses in "${s}"`:"Select a category"}),s&&u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Object.entries(o).map(([k,N])=>u.jsxs("div",{className:"p-3 bg-white rounded border",children:[u.jsx("div",{className:"font-medium text-sm text-gray-600 mb-1",children:k}),u.jsx("div",{className:"text-gray-800 text-sm",children:N})]},k))})]})]})]})},Ow=({isOpen:e,onClose:t})=>e?u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:u.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[u.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),u.jsxs("div",{className:"inline-block w-full max-w-7xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl relative",children:[u.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx(wn,{size:20})}),u.jsx(jw,{})]})]})}):null,Lw=({isVisible:e,onUpgrade:t,onDismiss:n,planName:r,messagesUsed:s,messageLimit:i})=>e?u.jsx("div",{className:"fixed top-12 md:top-22 left-2 md:left-4 right-2 md:right-4 z-50 max-w-4xl mx-auto",children:u.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-lg md:rounded-xl shadow-lg p-3 md:p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[u.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:u.jsx(cp,{className:"w-4 h-4 md:w-5 md:h-5"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("h3",{className:"font-semibold text-sm md:text-base",children:"Message Limit Reached!"}),u.jsxs("p",{className:"text-xs md:text-sm opacity-90 truncate",children:["You've used ",s,"/",i," messages on your ",r," plan"]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-shrink-0 ml-2",children:[u.jsxs("button",{onClick:t,className:"bg-white text-orange-600 px-2 md:px-4 py-1.5 md:py-2 rounded-md md:rounded-lg font-medium hover:bg-orange-50 transition-colors flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[u.jsx(mc,{className:"w-3 h-3 md:w-4 md:h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Upgrade Now"}),u.jsx("span",{className:"sm:hidden",children:"Upgrade"})]}),u.jsx("button",{onClick:n,className:"p-1.5 md:p-2 hover:bg-white/20 rounded-md md:rounded-lg transition-colors",children:u.jsx(wn,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})})}):null,Lp=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(!1),[s,i]=C.useState(navigator.onLine),[o,a]=C.useState(null),[l,c]=C.useState(!1);return C.useEffect(()=>{const p=()=>{const h=window.matchMedia("(display-mode: standalone)").matches,d=window.navigator.standalone===!0;r(h||d)},x=h=>{console.log("💾 PWA install prompt available"),h.preventDefault(),a(h),t(!0),setTimeout(()=>{n||c(!0)},3e4)},y=()=>{console.log("✅ PWA installed successfully"),r(!0),t(!1),c(!1)},S=()=>{console.log("🌐 App is online"),i(!0)},v=()=>{console.log("📡 App is offline"),i(!1)};return window.addEventListener("beforeinstallprompt",x),window.addEventListener("appinstalled",y),window.addEventListener("online",S),window.addEventListener("offline",v),p(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(h=>{console.log("✅ Service Worker registered:",h)}).catch(h=>{console.error("❌ Service Worker registration failed:",h)}),()=>{window.removeEventListener("beforeinstallprompt",x),window.removeEventListener("appinstalled",y),window.removeEventListener("online",S),window.removeEventListener("offline",v)}},[n]),{isInstallable:e,isInstalled:n,isOnline:s,installApp:async()=>{if(!o){console.warn("⚠️ Install prompt not available");return}try{await o.prompt(),(await o.userChoice).outcome==="accepted"?(console.log("✅ User accepted install prompt"),c(!1)):console.log("❌ User dismissed install prompt"),a(null),t(!1)}catch(p){console.error("❌ Error installing app:",p)}},showInstallPrompt:l,dismissInstallPrompt:()=>{c(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())}}},Dw=()=>{const{showInstallPrompt:e,installApp:t,dismissInstallPrompt:n,isOnline:r}=Lp();return e?u.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50",children:u.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-violet-600 text-white p-4 rounded-lg shadow-lg border border-white/20 backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:"📱"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-sm mb-1",children:"Install Accord AI"}),u.jsx("p",{className:"text-xs opacity-90 mb-3",children:"Get the full app experience with offline access and faster loading"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:t,className:"bg-white text-purple-600 px-3 py-1.5 rounded text-xs font-medium hover:bg-purple-50 transition-colors",children:"Install"}),u.jsx("button",{onClick:n,className:"bg-white/20 text-white px-3 py-1.5 rounded text-xs font-medium hover:bg-white/30 transition-colors",children:"Later"})]})]}),u.jsx("button",{onClick:n,className:"flex-shrink-0 text-white/70 hover:text-white p-1",children:"✕"})]}),!r&&u.jsx("div",{className:"mt-3 p-2 bg-orange-500/20 rounded text-xs",children:"📡 You're offline. Install to access cached content!"})]})}):null},Mw=()=>{const{isOnline:e}=Lp();return e?null:u.jsx("div",{className:"fixed top-0 left-0 right-0 z-50",children:u.jsx("div",{className:"bg-orange-500 text-white text-center py-2 px-4 text-sm",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"animate-pulse",children:"📡"}),u.jsx("span",{children:"You're offline. Some features may be limited."})]})})})};class ud{static handleApiError(t){if(console.error("API Error:",t),!t.response)return{message:"Network error. Please check your internet connection.",code:"NETWORK_ERROR"};const n=t.response.status,r=t.response.data;switch(n){case 400:return{message:(r==null?void 0:r.message)||"Invalid request. Please check your input.",code:"BAD_REQUEST",status:n};case 401:return{message:(r==null?void 0:r.message)||"Authentication failed. Please login again.",code:"UNAUTHORIZED",status:n};case 403:return{message:(r==null?void 0:r.message)||"Access denied. You don't have permission.",code:"FORBIDDEN",status:n};case 404:return{message:(r==null?void 0:r.message)||"Resource not found.",code:"NOT_FOUND",status:n};case 429:return{message:(r==null?void 0:r.message)||"Too many requests. Please try again later.",code:"RATE_LIMITED",status:n};case 500:return{message:(r==null?void 0:r.message)||"Server error. Please try again later.",code:"SERVER_ERROR",status:n};default:return{message:(r==null?void 0:r.message)||"An unexpected error occurred.",code:"UNKNOWN_ERROR",status:n}}}static handleAuthError(t){const n=this.handleApiError(t);return n.status===401&&localStorage.removeItem("authToken"),n}static handleChatError(t){const n=this.handleApiError(t);return n.code==="RATE_LIMITED"?{...n,message:"You're sending messages too quickly. Please wait a moment."}:n}static logError(t,n){console.error(`[${n||"App"}] Error:`,t)}}class Uw{constructor(){var r,s;const t=(s=(r=import.meta)==null?void 0:r.env)==null?void 0:s.VITE_API_URL,n=t&&typeof t=="string"&&t.length>0?t:"/api";this.api=F.create({baseURL:n,timeout:1e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(i=>{const o=localStorage.getItem("authToken");return o&&o!=="null"&&o!=="undefined"&&(i.headers.Authorization=`Bearer ${o}`),i},i=>Promise.reject(i)),this.api.interceptors.response.use(i=>i,i=>{var a;const o=ud.handleApiError(i);return ud.logError(o,"ApiService"),((a=i.response)==null?void 0:a.status)===401&&(localStorage.removeItem("authToken"),delete this.api.defaults.headers.common.Authorization),Promise.reject(i)})}async register(t,n,r){try{return(await this.api.post("/auth/register",{email:t.toLowerCase(),password:n,displayName:r})).data}catch(s){throw console.error("Registration error:",s),s}}async login(t,n){try{return(await this.api.post("/auth/login",{email:t.toLowerCase(),password:n})).data}catch(r){throw console.error("Login error:",r),r}}async verifyToken(){try{return(await this.api.get("/auth/verify-token")).data}catch(t){throw console.error("Token verification error:",t),t}}async googleSignIn(t){try{return(await this.api.post("/auth/google",t)).data}catch(n){throw console.error("Google sign-in error:",n),n}}async getTrialStatus(){return(await this.api.get("/auth/trial-status")).data}async sendChatMessage(t,n=!1){var r;try{if(typeof navigator<"u"&&!navigator.onLine){const o=new Error("You appear to be offline. Please check your internet connection.");throw o.code="ERR_INTERNET_DISCONNECTED",o}const s=n?"/ai/chat-anonymous":"/ai/chat";return(await this.api.post(s,{message:t,isAnonymous:n})).data}catch(s){throw((r=s.response)==null?void 0:r.status)===403?new Error("Daily message limit reached. Please try again tomorrow."):s}}async getSubscriptionStatus(){return(await this.api.get("/subscription/status")).data}async subscribe(t,n){return(await this.api.post("/subscription/subscribe",{planId:t,paymentId:n})).data}async get(t,n){return(await this.api.get(t,n)).data}async post(t,n,r){return(await this.api.post(t,n,r)).data}async put(t,n,r){return(await this.api.put(t,n,r)).data}async delete(t,n){return(await this.api.delete(t,n)).data}setAuthToken(t){localStorage.setItem("authToken",t),this.api.defaults.headers.common.Authorization=`Bearer ${t}`}clearAuthToken(){localStorage.removeItem("authToken"),delete this.api.defaults.headers.common.Authorization}}const ae=new Uw,Fw=()=>{const[e,t]=C.useState([]),[n,r]=C.useState(!1),[s,i]=C.useState(null),[o,a]=C.useState(0),l=C.useCallback(async(p,x=!1,y)=>{var g,w,_;const S=Date.now(),v=S-o,h=3e3;if(v<h){const I=h-v;i(`Please wait ${Math.ceil(I/1e3)} seconds before sending another message.`);return}i(null),r(!0),a(S);const d={id:Date.now().toString(),role:"user",content:p,timestamp:new Date};t(I=>[...I,d]);try{console.log("🔍 Sending message:",{isAnonymous:x,hasToken:!!y}),console.log(y);const I=await ae.sendChatMessage(p,x);if(I.success){const k={id:Date.now().toString()+"-assistant",role:"assistant",content:I.response,timestamp:new Date,detectedLanguage:I.detectedLanguage,source:I.source,confidence:I.confidence,category:I.category};t(N=>[...N,k])}else throw new Error(I.message||"Chat request failed")}catch(I){if(console.error("Chat error:",I),((g=I.response)==null?void 0:g.status)===401&&!x){console.log("🔄 Authentication failed, retrying anonymously...");try{const b=await ae.sendChatMessage(p,!0);if(b.success){const A={id:Date.now().toString()+"-assistant",role:"assistant",content:b.response,timestamp:new Date,detectedLanguage:b.detectedLanguage,source:b.source,confidence:b.confidence,category:b.category};t(H=>[...H,A]);return}}catch(b){console.error("Retry failed:",b)}}const k=((_=(w=I.response)==null?void 0:w.data)==null?void 0:_.message)||I.message||"Failed to send message";i(k);const N={id:Date.now().toString()+"-error",role:"assistant",content:`Sorry, I encountered an error: ${k}`,timestamp:new Date};t(b=>[...b,N])}finally{r(!1)}},[o]),c=C.useCallback(async(p,x,y=!1,S)=>{var w,_;const v=Date.now(),h=v-o,d=3e3;if(h<d){const I=d-h;i(`Please wait ${Math.ceil(I/1e3)} seconds before sending another request.`);return}i(null),r(!0),a(v);const g={id:Date.now().toString(),role:"user",content:x?`${x}`:`Uploaded file: ${p.name}`,timestamp:new Date};t(I=>[...I,g]);try{const I=y?"/ai/file-anonymous":"/ai/file",k=new FormData;k.append("file",p),x&&k.append("prompt",x);const N={headers:{"Content-Type":"multipart/form-data"}};S&&(N.headers.Authorization=`Bearer ${S}`);const b=await ae.post(I,k,N);if(b.success){const A={id:Date.now().toString()+"-assistant",role:"assistant",content:b.response,timestamp:new Date,detectedLanguage:b.detectedLanguage,source:b.source,confidence:b.confidence,category:b.category};t(H=>[...H,A])}else throw new Error(b.message||"File request failed")}catch(I){console.error("File error:",I);const k=((_=(w=I.response)==null?void 0:w.data)==null?void 0:_.message)||I.message||"Failed to process file";i(k);const N={id:Date.now().toString()+"-error",role:"assistant",content:`Sorry, I encountered an error: ${k}`,timestamp:new Date};t(b=>[...b,N])}finally{r(!1)}},[o]),f=C.useCallback(()=>{t([]),i(null)},[]),m=C.useCallback(()=>{i(null)},[]);return{messages:e,isLoading:n,error:s,sendMessage:l,sendFile:c,clearMessages:f,clearError:m}},zw=()=>{};var dd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Bw=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Mp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,f=i>>2,m=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,x=c&63;l||(x=64,o||(p=64)),r.push(n[f],n[m],n[p],n[x])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Bw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const m=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||m==null)throw new $w;const p=i<<2|a>>4;if(r.push(p),c!==64){const x=a<<4&240|c>>2;if(r.push(x),m!==64){const y=c<<6&192|m;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class $w extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hw=function(e){const t=Dp(e);return Mp.encodeByteArray(t,!0)},Up=function(e){return Hw(e).replace(/\./g,"")},Fp=function(e){try{return Mp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=()=>Vw().__FIREBASE_DEFAULTS__,qw=()=>{if(typeof process>"u"||typeof dd>"u")return;const e=dd.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Kw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Fp(e[1]);return t&&JSON.parse(t)},xc=()=>{try{return zw()||Ww()||qw()||Kw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Gw=e=>{var t,n;return(n=(t=xc())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},zp=()=>{var e;return(e=xc())==null?void 0:e.config},Bp=e=>{var t;return(t=xc())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jw(e){return(await fetch(e,{credentials:"include"})).ok}const qr={};function Yw(){const e={prod:[],emulator:[]};for(const t of Object.keys(qr))qr[t]?e.emulator.push(t):e.prod.push(t);return e}function Xw(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let fd=!1;function Zw(e,t){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||qr[e]===t||qr[e]||fd)return;qr[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Yw().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,x){p.setAttribute("width","24"),p.setAttribute("id",x),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{fd=!0,o()},p}function f(p,x){p.setAttribute("id",x),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=Xw(r),x=n("text"),y=document.getElementById(x)||document.createElement("span"),S=n("learnmore"),v=document.getElementById(S)||document.createElement("a"),h=n("preprendIcon"),d=document.getElementById(h)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const g=p.element;a(g),f(v,S);const w=c();l(d,h),g.append(d,y,v,w),document.body.appendChild(g)}i?(y.innerText="Preview backend disconnected.",d.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(d.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function t1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $p(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function n1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r1(){const e=Ee();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Hp(){try{return typeof indexedDB=="object"}catch{return!1}}function Vp(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(n){t(n)}})}function s1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="FirebaseError";class gt extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=i1,Object.setPrototypeOf(this,gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}}class On{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?o1(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new gt(s,a,r)}}function o1(e,t){return e.replace(a1,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const a1=/\{\$([^}]+)}/g;function l1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Cn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(hd(i)&&hd(o)){if(!Cn(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hd(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function c1(e,t){const n=new u1(e,t);return n.subscribe.bind(n)}class u1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d1(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=ra),s.error===void 0&&(s.error=ra),s.complete===void 0&&(s.complete=ra);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d1(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ra(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=1e3,h1=2,p1=4*60*60*1e3,m1=.5;function pd(e,t=f1,n=h1){const r=t*Math.pow(n,e),s=Math.round(m1*r*(Math.random()-.5)*2);return Math.min(p1,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){return e&&e._delegate?e._delegate:e}class pt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Qw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(v1(t))try{this.getOrInitializeService({instanceIdentifier:un})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=un){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=un){return this.instances.has(t)}getOptions(t=un){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y1(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=un){return this.component?this.component.multipleInstances?t:un:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(e){return e===un?void 0:e}function v1(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new g1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})($||($={}));const x1={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},S1=$.INFO,E1={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},k1=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=E1[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sc{constructor(t){this.name=t,this._logLevel=S1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?x1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...t),this._logHandler(this,$.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...t),this._logHandler(this,$.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$.INFO,...t),this._logHandler(this,$.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$.WARN,...t),this._logHandler(this,$.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...t),this._logHandler(this,$.ERROR,...t)}}const _1=(e,t)=>t.some(n=>e instanceof n);let md,gd;function I1(){return md||(md=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T1(){return gd||(gd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wp=new WeakMap,dl=new WeakMap,qp=new WeakMap,sa=new WeakMap,Ec=new WeakMap;function N1(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(Zt(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Wp.set(n,e)}).catch(()=>{}),Ec.set(t,e),t}function C1(e){if(dl.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});dl.set(e,t)}let fl={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return dl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||qp.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function b1(e){fl=e(fl)}function R1(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ia(this),t,...n);return qp.set(r,t.sort?t.sort():[t]),Zt(r)}:T1().includes(e)?function(...t){return e.apply(ia(this),t),Zt(Wp.get(this))}:function(...t){return Zt(e.apply(ia(this),t))}}function P1(e){return typeof e=="function"?R1(e):(e instanceof IDBTransaction&&C1(e),_1(e,I1())?new Proxy(e,fl):e)}function Zt(e){if(e instanceof IDBRequest)return N1(e);if(sa.has(e))return sa.get(e);const t=P1(e);return t!==e&&(sa.set(e,t),Ec.set(t,e)),t}const ia=e=>Ec.get(e);function Kp(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=Zt(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zt(o.result),l.oldVersion,l.newVersion,Zt(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const A1=["get","getKey","getAll","getAllKeys","count"],j1=["put","add","delete","clear"],oa=new Map;function yd(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(oa.get(t))return oa.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=j1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||A1.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return oa.set(t,i),i}b1(e=>({...e,get:(t,n,r)=>yd(t,n)||e.get(t,n,r),has:(t,n)=>!!yd(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function L1(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hl="@firebase/app",vd="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=new Sc("@firebase/app"),D1="@firebase/app-compat",M1="@firebase/analytics-compat",U1="@firebase/analytics",F1="@firebase/app-check-compat",z1="@firebase/app-check",B1="@firebase/auth",$1="@firebase/auth-compat",H1="@firebase/database",V1="@firebase/data-connect",W1="@firebase/database-compat",q1="@firebase/functions",K1="@firebase/functions-compat",G1="@firebase/installations",Q1="@firebase/installations-compat",J1="@firebase/messaging",Y1="@firebase/messaging-compat",X1="@firebase/performance",Z1="@firebase/performance-compat",ex="@firebase/remote-config",tx="@firebase/remote-config-compat",nx="@firebase/storage",rx="@firebase/storage-compat",sx="@firebase/firestore",ix="@firebase/ai",ox="@firebase/firestore-compat",ax="firebase",lx="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="[DEFAULT]",cx={[hl]:"fire-core",[D1]:"fire-core-compat",[U1]:"fire-analytics",[M1]:"fire-analytics-compat",[z1]:"fire-app-check",[F1]:"fire-app-check-compat",[B1]:"fire-auth",[$1]:"fire-auth-compat",[H1]:"fire-rtdb",[V1]:"fire-data-connect",[W1]:"fire-rtdb-compat",[q1]:"fire-fn",[K1]:"fire-fn-compat",[G1]:"fire-iid",[Q1]:"fire-iid-compat",[J1]:"fire-fcm",[Y1]:"fire-fcm-compat",[X1]:"fire-perf",[Z1]:"fire-perf-compat",[ex]:"fire-rc",[tx]:"fire-rc-compat",[nx]:"fire-gcs",[rx]:"fire-gcs-compat",[sx]:"fire-fst",[ox]:"fire-fst-compat",[ix]:"fire-vertex","fire-js":"fire-js",[ax]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Map,ux=new Map,ml=new Map;function wd(e,t){try{e.container.addComponent(t)}catch(n){Rt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Pt(e){const t=e.name;if(ml.has(t))return Rt.debug(`There were multiple attempts to register component ${t}.`),!1;ml.set(t,e);for(const n of Ui.values())wd(n,e);for(const n of ux.values())wd(n,e);return!0}function yr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ct(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},en=new On("app","Firebase",dx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=lx;function Gp(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:pl,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw en.create("bad-app-name",{appName:String(s)});if(n||(n=zp()),!n)throw en.create("no-options");const i=Ui.get(s);if(i){if(Cn(n,i.options)&&Cn(r,i.config))return i;throw en.create("duplicate-app",{appName:s})}const o=new w1(s);for(const l of ml.values())o.addComponent(l);const a=new fx(n,r,o);return Ui.set(s,a),a}function Qp(e=pl){const t=Ui.get(e);if(!t&&e===pl&&zp())return Gp();if(!t)throw en.create("no-app",{appName:e});return t}function ft(e,t,n){let r=cx[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rt.warn(o.join(" "));return}Pt(new pt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="firebase-heartbeat-database",px=1,hs="firebase-heartbeat-store";let aa=null;function Jp(){return aa||(aa=Kp(hx,px,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(hs)}catch(n){console.warn(n)}}}}).catch(e=>{throw en.create("idb-open",{originalErrorMessage:e.message})})),aa}async function mx(e){try{const n=(await Jp()).transaction(hs),r=await n.objectStore(hs).get(Yp(e));return await n.done,r}catch(t){if(t instanceof gt)Rt.warn(t.message);else{const n=en.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Rt.warn(n.message)}}}async function xd(e,t){try{const r=(await Jp()).transaction(hs,"readwrite");await r.objectStore(hs).put(t,Yp(e)),await r.done}catch(n){if(n instanceof gt)Rt.warn(n.message);else{const r=en.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rt.warn(r.message)}}}function Yp(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=1024,yx=30;class vx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sd();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>yx){const o=Sx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sd(),{heartbeatsToSend:r,unsentEntries:s}=wx(this._heartbeatsCache.heartbeats),i=Up(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Rt.warn(n),""}}}function Sd(){return new Date().toISOString().substring(0,10)}function wx(e,t=gx){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ed(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ed(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hp()?Vp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xd(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return xd(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Ed(e){return Up(JSON.stringify({version:2,heartbeats:e})).length}function Sx(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(e){Pt(new pt("platform-logger",t=>new O1(t),"PRIVATE")),Pt(new pt("heartbeat",t=>new vx(t),"PRIVATE")),ft(hl,vd,e),ft(hl,vd,"esm2020"),ft("fire-js","")}Ex("");function Xp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kx=Xp,Zp=new On("auth","Firebase",Xp());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Sc("@firebase/auth");function _x(e,...t){Fi.logLevel<=$.WARN&&Fi.warn(`Auth (${ks}): ${e}`,...t)}function li(e,...t){Fi.logLevel<=$.ERROR&&Fi.error(`Auth (${ks}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(e,...t){throw _c(e,...t)}function nt(e,...t){return _c(e,...t)}function kc(e,t,n){const r={...kx(),[t]:n};return new On("auth","Firebase",r).create(t,{appName:e.name})}function Sn(e){return kc(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ix(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&mt(e,"argument-error"),kc(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _c(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Zp.create(e,...t)}function j(e,t,...n){if(!e)throw _c(t,...n)}function kt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw li(t),new Error(t)}function At(e,t){e||kt(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function Tx(){return kd()==="http:"||kd()==="https:"}function kd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tx()||$p()||"connection"in navigator)?navigator.onLine:!0}function Cx(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,n){this.shortDelay=t,this.longDelay=n,At(n>t,"Short delay should be less than long delay!"),this.isMobile=e1()||n1()}get(){return Nx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e,t){At(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Px=new _s(3e4,6e4);function Tc(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function vr(e,t,n,r,s={}){return tm(e,s,async()=>{let i={},o={};r&&(t==="GET"?o=r:i={body:JSON.stringify(r)});const a=Es({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...i};return t1()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&vo(e.emulatorConfig.host)&&(c.credentials="include"),em.fetch()(await nm(e,e.config.apiHost,n,a),c)})}async function tm(e,t,n){e._canInitEmulator=!1;const r={...bx,...t};try{const s=new jx(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Vs(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vs(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vs(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vs(e,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kc(e,f,c);mt(e,f)}}catch(s){if(s instanceof gt)throw s;mt(e,"network-request-failed",{message:String(s)})}}async function Ax(e,t,n,r,s={}){const i=await vr(e,t,n,r,s);return"mfaPendingCredential"in i&&mt(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function nm(e,t,n,r){const s=`${t}${n}?${r}`,i=e,o=i.config.emulator?Ic(e.config,s):`${e.config.apiScheme}://${s}`;return Rx.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class jx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nt(this.auth,"network-request-failed")),Px.get())})}}function Vs(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=nt(e,t,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(e,t){return vr(e,"POST","/v1/accounts:delete",t)}async function zi(e,t){return vr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Lx(e,t=!1){const n=an(e),r=await n.getIdToken(t),s=Nc(r);j(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Kr(la(s.auth_time)),issuedAtTime:Kr(la(s.iat)),expirationTime:Kr(la(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function la(e){return Number(e)*1e3}function Nc(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return li("JWT malformed, contained fewer than 3 sections"),null;try{const s=Fp(n);return s?JSON.parse(s):(li("Failed to decode base64 JWT payload"),null)}catch(s){return li("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _d(e){const t=Nc(e);return j(t,"internal-error"),j(typeof t.exp<"u","internal-error"),j(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof gt&&Dx(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Dx({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kr(this.lastLoginAt),this.creationTime=Kr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bi(e){var m;const t=e.auth,n=await e.getIdToken(),r=await ps(e,zi(t,{idToken:n}));j(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const i=(m=s.providerUserInfo)!=null&&m.length?rm(s.providerUserInfo):[],o=Fx(e.providerData,i),a=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new yl(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function Ux(e){const t=an(e);await Bi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Fx(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function rm(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(e,t){const n=await tm(e,{},async()=>{const r=Es({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,o=await nm(e,s,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&vo(e.emulatorConfig.host)&&(l.credentials="include"),em.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bx(e,t){return vr(e,"POST","/v2/accounts:revokeToken",Tc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){j(t.idToken,"internal-error"),j(typeof t.idToken<"u","internal-error"),j(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_d(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){j(t.length!==0,"internal-error");const n=_d(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await zx(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new tr;return r&&(j(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),s&&(j(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),i&&(j(typeof i=="number","internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tr,this.toJSON())}_performRefresh(){return kt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(e,t){j(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ze{constructor({uid:t,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Mx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yl(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await ps(this,this.stsTokenManager.getToken(this.auth,t));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Lx(this,t)}reload(){return Ux(this)}_assign(t){this!==t&&(j(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ze({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Bi(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ct(this.auth.app))return Promise.reject(Sn(this.auth));const t=await this.getIdToken();return await ps(this,Ox(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:x,providerData:y,stsTokenManager:S}=n;j(m&&S,t,"internal-error");const v=tr.fromJSON(this.name,S);j(typeof m=="string",t,"internal-error"),Lt(r,t.name),Lt(s,t.name),j(typeof p=="boolean",t,"internal-error"),j(typeof x=="boolean",t,"internal-error"),Lt(i,t.name),Lt(o,t.name),Lt(a,t.name),Lt(l,t.name),Lt(c,t.name),Lt(f,t.name);const h=new Ze({uid:m,auth:t,email:s,emailVerified:p,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:v,createdAt:c,lastLoginAt:f});return y&&Array.isArray(y)&&(h.providerData=y.map(d=>({...d}))),l&&(h._redirectEventId=l),h}static async _fromIdTokenResponse(t,n,r=!1){const s=new tr;s.updateFromServerResponse(n);const i=new Ze({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Bi(i),i}static async _fromGetAccountInfoResponse(t,n,r){const s=n.users[0];j(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?rm(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new tr;a.updateFromIdToken(r);const l=new Ze({uid:s.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new yl(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Map;function _t(e){At(e instanceof Function,"Expected a class definition");let t=Id.get(e);return t?(At(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Id.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}sm.type="NONE";const Td=sm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(e,t,n){return`firebase:${e}:${t}:${n}`}class nr{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ci(this.userKey,s.apiKey,i),this.fullPersistenceKey=ci("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await zi(this.auth,{idToken:t}).catch(()=>{});return n?Ze._fromGetAccountInfoResponse(this.auth,n,t):null}return Ze._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new nr(_t(Td),t,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||_t(Td);const o=ci(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){let m;if(typeof f=="string"){const p=await zi(t,{idToken:f}).catch(()=>{});if(!p)break;m=await Ze._fromGetAccountInfoResponse(t,p,f)}else m=Ze._fromJSON(t,f);c!==i&&(a=m),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new nr(i,t,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new nr(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(im(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(um(t))return"Blackberry";if(dm(t))return"Webos";if(om(t))return"Safari";if((t.includes("chrome/")||am(t))&&!t.includes("edge/"))return"Chrome";if(cm(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function im(e=Ee()){return/firefox\//i.test(e)}function om(e=Ee()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function am(e=Ee()){return/crios\//i.test(e)}function lm(e=Ee()){return/iemobile/i.test(e)}function cm(e=Ee()){return/android/i.test(e)}function um(e=Ee()){return/blackberry/i.test(e)}function dm(e=Ee()){return/webos/i.test(e)}function Cc(e=Ee()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function $x(e=Ee()){var t;return Cc(e)&&!!((t=window.navigator)!=null&&t.standalone)}function Hx(){return r1()&&document.documentMode===10}function fm(e=Ee()){return Cc(e)||cm(e)||dm(e)||um(e)||/windows phone/i.test(e)||lm(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(e,t=[]){let n;switch(e){case"Browser":n=Nd(Ee());break;case"Worker":n=`${Nd(Ee())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((o,a)=>{try{const l=t(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(e,t={}){return vr(e,"GET","/v2/passwordPolicy",Tc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=6;class Kx{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cd(this),this.idTokenSubscription=new Cd(this),this.beforeStateQueue=new Vx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_t(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await nr.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zi(this,{idToken:t}),r=await Ze._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(ct(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bi(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Cx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ct(this.app))return Promise.reject(Sn(this));const n=t?an(t):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&j(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ct(this.app)?Promise.reject(Sn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ct(this.app)?Promise.reject(Sn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_t(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Wx(this),n=new Kx(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new On("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bx(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_t(t)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await nr.create(this,[_t(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(ct(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&_x(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wo(e){return an(e)}class Cd{constructor(t){this.auth=t,this.observer=null,this.addObserver=c1(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qx(e){bc=e}function Jx(e){return bc.loadJS(e)}function Yx(){return bc.gapiScript}function Xx(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(e,t){const n=yr(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Cn(i,t??{}))return s;mt(s,"already-initialized")}return n.initialize({options:t})}function eS(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_t);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function tS(e,t,n){const r=wo(e);j(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=pm(t),{host:o,port:a}=nS(t),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){j(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),j(Cn(c,r.config.emulator)&&Cn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,vo(o)?(Jw(`${i}//${o}${l}`),Zw("Auth",!0)):rS()}function pm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nS(e){const t=pm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:bd(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:bd(o)}}}function bd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function rS(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return kt("not implemented")}_getIdTokenResponse(t){return kt("not implemented")}_linkToIdToken(t,n){return kt("not implemented")}_getReauthenticationResolver(t){return kt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rr(e,t){return Ax(e,"POST","/v1/accounts:signInWithIdp",Tc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="http://localhost";class bn extends mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new bn(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):mt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new bn(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return rr(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,rr(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,rr(t,n)}buildRequest(){const t={requestUri:sS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Es(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Rc{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt extends Is{constructor(){super("facebook.com")}static credential(t){return bn._fromParams({providerId:zt.PROVIDER_ID,signInMethod:zt.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zt.credentialFromTaggedObject(t)}static credentialFromError(t){return zt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zt.credential(t.oauthAccessToken)}catch{return null}}}zt.FACEBOOK_SIGN_IN_METHOD="facebook.com";zt.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends Is{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return bn._fromParams({providerId:xt.PROVIDER_ID,signInMethod:xt.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return xt.credentialFromTaggedObject(t)}static credentialFromError(t){return xt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return xt.credential(n,r)}catch{return null}}}xt.GOOGLE_SIGN_IN_METHOD="google.com";xt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt extends Is{constructor(){super("github.com")}static credential(t){return bn._fromParams({providerId:Bt.PROVIDER_ID,signInMethod:Bt.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bt.credentialFromTaggedObject(t)}static credentialFromError(t){return Bt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bt.credential(t.oauthAccessToken)}catch{return null}}}Bt.GITHUB_SIGN_IN_METHOD="github.com";Bt.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t extends Is{constructor(){super("twitter.com")}static credential(t,n){return bn._fromParams({providerId:$t.PROVIDER_ID,signInMethod:$t.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return $t.credentialFromTaggedObject(t)}static credentialFromError(t){return $t.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return $t.credential(n,r)}catch{return null}}}$t.TWITTER_SIGN_IN_METHOD="twitter.com";$t.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await Ze._fromIdTokenResponse(t,r,s),o=Rd(r);return new dr({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=Rd(r);return new dr({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function Rd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends gt{constructor(t,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$i.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new $i(t,n,r,s)}}function gm(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$i._fromErrorAndOperation(e,i,t,r):i})}async function iS(e,t,n=!1){const r=await ps(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dr._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(e,t,n=!1){const{auth:r}=e;if(ct(r.app))return Promise.reject(Sn(r));const s="reauthenticate";try{const i=await ps(e,gm(r,s,t,e),n);j(i.idToken,r,"internal-error");const o=Nc(i.idToken);j(o,r,"internal-error");const{sub:a}=o;return j(e.uid===a,r,"user-mismatch"),dr._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&mt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(e,t,n=!1){if(ct(e.app))return Promise.reject(Sn(e));const r="signIn",s=await gm(e,r,t),i=await dr._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function lS(e,t,n,r){return an(e).onIdTokenChanged(t,n,r)}function cS(e,t,n){return an(e).beforeAuthStateChanged(t,n)}const Hi="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hi,"1"),this.storage.removeItem(Hi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=1e3,dS=10;class vm extends ym{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fm(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Hx()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,dS):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},uS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}vm.type="LOCAL";const fS=vm;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends ym{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}wm.type="SESSION";const xm=wm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new xo(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await hS(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Pc("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return window}function mS(e){ht().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){return typeof ht().WorkerGlobalScope<"u"&&typeof ht().importScripts=="function"}async function gS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yS(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function vS(){return Sm()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="firebaseLocalStorageDb",wS=1,Vi="firebaseLocalStorage",km="fbase_key";class Ts{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function So(e,t){return e.transaction([Vi],t?"readwrite":"readonly").objectStore(Vi)}function xS(){const e=indexedDB.deleteDatabase(Em);return new Ts(e).toPromise()}function vl(){const e=indexedDB.open(Em,wS);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Vi,{keyPath:km})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Vi)?t(r):(r.close(),await xS(),t(await vl()))})})}async function Pd(e,t,n){const r=So(e,!0).put({[km]:t,value:n});return new Ts(r).toPromise()}async function SS(e,t){const n=So(e,!1).get(t),r=await new Ts(n).toPromise();return r===void 0?null:r.value}function Ad(e,t){const n=So(e,!0).delete(t);return new Ts(n).toPromise()}const ES=800,kS=3;class _m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vl(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>kS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xo._getInstance(vS()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await gS(),!this.activeServiceWorker)return;this.sender=new pS(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vl();return await Pd(t,Hi,"1"),await Ad(t,Hi),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pd(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>SS(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ad(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=So(s,!1).getAll();return new Ts(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ES)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_m.type="LOCAL";const _S=_m;new _s(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(e,t){return t?_t(t):(j(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends mm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return rr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return rr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return rr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function IS(e){return aS(e.auth,new Ac(e),e.bypassAuthState)}function TS(e){const{auth:t,user:n}=e;return j(n,t,"internal-error"),oS(n,new Ac(e),e.bypassAuthState)}async function NS(e){const{auth:t,user:n}=e;return j(n,t,"internal-error"),iS(n,new Ac(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IS;case"linkViaPopup":case"linkViaRedirect":return NS;case"reauthViaPopup":case"reauthViaRedirect":return TS;default:mt(this.auth,"internal-error")}}resolve(t){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new _s(2e3,1e4);async function bS(e,t,n){if(ct(e.app))return Promise.reject(nt(e,"operation-not-supported-in-this-environment"));const r=wo(e);Ix(e,t,Rc);const s=Im(r,n);return new mn(r,"signInViaPopup",t,s).executeNotNull()}class mn extends Tm{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,mn.currentPopupAction&&mn.currentPopupAction.cancel(),mn.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return j(t,this.auth,"internal-error"),t}async onExecution(){At(this.filter.length===1,"Popup operations only handle one event");const t=Pc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(nt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mn.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CS.get())};t()}}mn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="pendingRedirect",ui=new Map;class PS extends Tm{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ui.get(this.auth._key());if(!t){try{const r=await AS(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ui.set(this.auth._key(),t)}return this.bypassAuthState||ui.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AS(e,t){const n=LS(t),r=OS(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jS(e,t){ui.set(e._key(),t)}function OS(e){return _t(e._redirectPersistence)}function LS(e){return ci(RS,e.config.apiKey,e.name)}async function DS(e,t,n=!1){if(ct(e.app))return Promise.reject(Sn(e));const r=wo(e),s=Im(r,t),o=await new PS(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=10*60*1e3;class US{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!FS(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Nm(t)){const s=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(nt(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(jd(t))}saveEventToCache(t){this.cachedEventUids.add(jd(t)),this.lastProcessedEventTime=Date.now()}}function jd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Nm({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function FS(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nm(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(e,t={}){return vr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$S=/^https?/;async function HS(e){if(e.config.emulator)return;const{authorizedDomains:t}=await zS(e);for(const n of t)try{if(VS(n))return}catch{}mt(e,"unauthorized-domain")}function VS(e){const t=gl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$S.test(n))return!1;if(BS.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=new _s(3e4,6e4);function Od(){const e=ht().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function qS(e){return new Promise((t,n)=>{var s,i,o;function r(){Od(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Od(),n(nt(e,"network-request-failed"))},timeout:WS.get()})}if((i=(s=ht().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((o=ht().gapi)!=null&&o.load)r();else{const a=Xx("iframefcb");return ht()[a]=()=>{gapi.load?r():n(nt(e,"network-request-failed"))},Jx(`${Yx()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw di=null,t})}let di=null;function KS(e){return di=di||qS(e),di}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new _s(5e3,15e3),QS="__/auth/iframe",JS="emulator/auth/iframe",YS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZS(e){const t=e.config;j(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ic(t,JS):`https://${e.config.authDomain}/${QS}`,r={apiKey:t.apiKey,appName:e.name,v:ks},s=XS.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Es(r).slice(1)}`}async function eE(e){const t=await KS(e),n=ht().gapi;return j(n,e,"internal-error"),t.open({where:document.body,url:ZS(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YS,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=nt(e,"network-request-failed"),a=ht().setTimeout(()=>{i(o)},GS.get());function l(){ht().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nE=500,rE=600,sE="_blank",iE="http://localhost";class Ld{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oE(e,t,n,r=nE,s=rE){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...tE,width:r.toString(),height:s.toString(),top:i,left:o},c=Ee().toLowerCase();n&&(a=am(c)?sE:n),im(c)&&(t=t||iE,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[x,y])=>`${p}${x}=${y},`,"");if($x(c)&&a!=="_self")return aE(t||"",a),new Ld(null);const m=window.open(t||"",a,f);j(m,e,"popup-blocked");try{m.focus()}catch{}return new Ld(m)}function aE(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__/auth/handler",cE="emulator/auth/handler",uE=encodeURIComponent("fac");async function Dd(e,t,n,r,s,i){j(e.config.authDomain,e,"auth-domain-config-required"),j(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ks,eventId:s};if(t instanceof Rc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",l1(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(t instanceof Is){const f=t.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await e._getAppCheckToken(),c=l?`#${uE}=${encodeURIComponent(l)}`:"";return`${dE(e)}?${Es(a).slice(1)}${c}`}function dE({config:e}){return e.emulator?Ic(e,cE):`https://${e.authDomain}/${lE}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="webStorageSupport";class fE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xm,this._completeRedirectFn=DS,this._overrideRedirectResult=jS}async _openPopup(t,n,r,s){var o;At((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Dd(t,n,r,gl(),s);return oE(t,i,Pc())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await Dd(t,n,r,gl(),s);return mS(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(At(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await eE(t),r=new US(t);return n.register("authEvent",s=>(j(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ca,{type:ca},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[ca];i!==void 0&&n(!!i),mt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HS(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return fm()||om()||Cc()}}const hE=fE;var Md="@firebase/auth",Ud="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gE(e){Pt(new pt("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;j(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hm(e)},c=new Gx(r,s,i,l);return eS(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Pt(new pt("auth-internal",t=>{const n=wo(t.getProvider("auth").getImmediate());return(r=>new pE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ft(Md,Ud,mE(e)),ft(Md,Ud,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=5*60,vE=Bp("authIdTokenMaxAge")||yE;let Fd=null;const wE=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vE)return;const s=n==null?void 0:n.token;Fd!==s&&(Fd=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xE(e=Qp()){const t=yr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Zx(e,{popupRedirectResolver:hE,persistence:[_S,fS,xm]}),r=Bp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=wE(i.toString());cS(n,o,()=>o(n.currentUser)),lS(n,a=>o(a))}}const s=Gw("auth");return s&&tS(n,`http://${s}`),n}function SE(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}Qx({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=nt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",SE().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gE("Browser");var EE="firebase",kE="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ft(EE,kE,"app");const Cm="@firebase/installations",jc="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=1e4,Rm=`w:${jc}`,Pm="FIS_v2",_E="https://firebaseinstallations.googleapis.com/v1",IE=60*60*1e3,TE="installations",NE="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rn=new On(TE,NE,CE);function Am(e){return e instanceof gt&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm({projectId:e}){return`${_E}/projects/${e}/installations`}function Om(e){return{token:e.token,requestStatus:2,expiresIn:RE(e.expiresIn),creationTime:Date.now()}}async function Lm(e,t){const r=(await t.json()).error;return Rn.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Dm({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function bE(e,{refreshToken:t}){const n=Dm(e);return n.append("Authorization",PE(t)),n}async function Mm(e){const t=await e();return t.status>=500&&t.status<600?e():t}function RE(e){return Number(e.replace("s","000"))}function PE(e){return`${Pm} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AE({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=jm(e),s=Dm(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Pm,appId:e.appId,sdkVersion:Rm},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Mm(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Om(c.authToken)}}else throw await Lm("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=/^[cdef][\w-]{21}$/,wl="";function LE(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=DE(e);return OE.test(n)?n:wl}catch{return wl}}function DE(e){return jE(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new Map;function zm(e,t){const n=Eo(e);Bm(n,t),ME(n,t)}function Bm(e,t){const n=Fm.get(e);if(n)for(const r of n)r(t)}function ME(e,t){const n=UE();n&&n.postMessage({key:e,fid:t}),FE()}let gn=null;function UE(){return!gn&&"BroadcastChannel"in self&&(gn=new BroadcastChannel("[Firebase] FID Change"),gn.onmessage=e=>{Bm(e.data.key,e.data.fid)}),gn}function FE(){Fm.size===0&&gn&&(gn.close(),gn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebase-installations-database",BE=1,Pn="firebase-installations-store";let ua=null;function Oc(){return ua||(ua=Kp(zE,BE,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Pn)}}})),ua}async function Wi(e,t){const n=Eo(e),s=(await Oc()).transaction(Pn,"readwrite"),i=s.objectStore(Pn),o=await i.get(n);return await i.put(t,n),await s.done,(!o||o.fid!==t.fid)&&zm(e,t.fid),t}async function $m(e){const t=Eo(e),r=(await Oc()).transaction(Pn,"readwrite");await r.objectStore(Pn).delete(t),await r.done}async function ko(e,t){const n=Eo(e),s=(await Oc()).transaction(Pn,"readwrite"),i=s.objectStore(Pn),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&zm(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(e){let t;const n=await ko(e.appConfig,r=>{const s=$E(r),i=HE(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===wl?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function $E(e){const t=e||{fid:LE(),registrationStatus:0};return Hm(t)}function HE(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Rn.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=VE(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:WE(e)}:{installationEntry:t}}async function VE(e,t){try{const n=await AE(e,t);return Wi(e.appConfig,n)}catch(n){throw Am(n)&&n.customData.serverCode===409?await $m(e.appConfig):await Wi(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function WE(e){let t=await zd(e.appConfig);for(;t.registrationStatus===1;)await Um(100),t=await zd(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Lc(e);return r||n}return t}function zd(e){return ko(e,t=>{if(!t)throw Rn.create("installation-not-found");return Hm(t)})}function Hm(e){return qE(e)?{fid:e.fid,registrationStatus:0}:e}function qE(e){return e.registrationStatus===1&&e.registrationTime+bm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KE({appConfig:e,heartbeatServiceProvider:t},n){const r=GE(e,n),s=bE(e,n),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Rm,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Mm(()=>fetch(r,a));if(l.ok){const c=await l.json();return Om(c)}else throw await Lm("Generate Auth Token",l)}function GE(e,{fid:t}){return`${jm(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(e,t=!1){let n;const r=await ko(e.appConfig,i=>{if(!Vm(i))throw Rn.create("not-registered");const o=i.authToken;if(!t&&YE(o))return i;if(o.requestStatus===1)return n=QE(e,t),i;{if(!navigator.onLine)throw Rn.create("app-offline");const a=ZE(i);return n=JE(e,a),a}});return n?await n:r.authToken}async function QE(e,t){let n=await Bd(e.appConfig);for(;n.authToken.requestStatus===1;)await Um(100),n=await Bd(e.appConfig);const r=n.authToken;return r.requestStatus===0?Dc(e,t):r}function Bd(e){return ko(e,t=>{if(!Vm(t))throw Rn.create("not-registered");const n=t.authToken;return ek(n)?{...t,authToken:{requestStatus:0}}:t})}async function JE(e,t){try{const n=await KE(e,t),r={...t,authToken:n};return await Wi(e.appConfig,r),n}catch(n){if(Am(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $m(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Wi(e.appConfig,r)}throw n}}function Vm(e){return e!==void 0&&e.registrationStatus===2}function YE(e){return e.requestStatus===2&&!XE(e)}function XE(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+IE}function ZE(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function ek(e){return e.requestStatus===1&&e.requestTime+bm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(e){const t=e,{installationEntry:n,registrationPromise:r}=await Lc(t);return r?r.catch(console.error):Dc(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(e,t=!1){const n=e;return await rk(n),(await Dc(n,t)).token}async function rk(e){const{registrationPromise:t}=await Lc(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e){if(!e||!e.options)throw da("App Configuration");if(!e.name)throw da("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw da(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function da(e){return Rn.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="installations",ik="installations-internal",ok=e=>{const t=e.getProvider("app").getImmediate(),n=sk(t),r=yr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ak=e=>{const t=e.getProvider("app").getImmediate(),n=yr(t,Wm).getImmediate();return{getId:()=>tk(n),getToken:s=>nk(n,s)}};function lk(){Pt(new pt(Wm,ok,"PUBLIC")),Pt(new pt(ik,ak,"PRIVATE"))}lk();ft(Cm,jc);ft(Cm,jc,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="analytics",ck="firebase_id",uk="origin",dk=60*1e3,fk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mc="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je=new Sc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Fe=new On("analytics","Analytics",hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(e){if(!e.startsWith(Mc)){const t=Fe.create("invalid-gtag-resource",{gtagURL:e});return je.warn(t.message),""}return e}function qm(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function mk(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function gk(e,t){const n=mk("firebase-js-sdk-policy",{createScriptURL:pk}),r=document.createElement("script"),s=`${Mc}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function yk(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function vk(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const l=(await qm(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){je.error(a)}e("config",s,i)}async function wk(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await qm(n);for(const l of o){const c=a.find(m=>m.measurementId===l),f=c&&t[c.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){je.error(i)}}function xk(e,t,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await wk(e,t,n,a,l)}else if(i==="config"){const[a,l]=o;await vk(e,t,n,r,a,l)}else if(i==="consent"){const[a,l]=o;e("consent",a,l)}else if(i==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(i==="set"){const[a]=o;e("set",a)}else e(i,...o)}catch(a){je.error(a)}}return s}function Sk(e,t,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=xk(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}function Ek(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Mc)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=30,_k=1e3;class Ik{constructor(t={},n=_k){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Km=new Ik;function Tk(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Nk(e){var o;const{appId:t,apiKey:n}=e,r={method:"GET",headers:Tk(n)},s=fk.replace("{app-id}",t),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Fe.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function Ck(e,t=Km,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw Fe.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Fe.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Pk;return setTimeout(async()=>{a.abort()},dk),Gm({appId:r,apiKey:s,measurementId:i},o,a,t)}async function Gm(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=Km){var a;const{appId:i,measurementId:o}=e;try{await bk(r,t)}catch(l){if(o)return je.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await Nk(e);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!Rk(c)){if(s.deleteThrottleMetadata(i),o)return je.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const f=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?pd(n,s.intervalMillis,kk):pd(n,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(i,m),je.debug(`Calling attemptFetch again in ${f} millis`),Gm(e,m,r,s)}}function bk(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(Fe.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Rk(e){if(!(e instanceof gt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Pk{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Ak(e,t,n,r,s){if(s&&s.global){e("event",n,r);return}else{const i=await t,o={...r,send_to:i};e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(){if(Hp())try{await Vp()}catch(e){return je.warn(Fe.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return je.warn(Fe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ok(e,t,n,r,s,i,o){const a=Ck(e);a.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&je.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>je.error(p)),t.push(a);const l=jk().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([a,l]);Ek(i)||gk(i,c.measurementId),s("js",new Date);const m=(o==null?void 0:o.config)??{};return m[uk]="firebase",m.update=!0,f!=null&&(m[ck]=f),s("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t){this.app=t}_delete(){return delete Gr[this.app.options.appId],Promise.resolve()}}let Gr={},$d=[];const Hd={};let fa="dataLayer",Dk="gtag",Vd,Qm,Wd=!1;function Mk(){const e=[];if($p()&&e.push("This is a browser extension environment."),s1()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Fe.create("invalid-analytics-context",{errorInfo:t});je.warn(n.message)}}function Uk(e,t,n){Mk();const r=e.options.appId;if(!r)throw Fe.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)je.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Fe.create("no-api-key");if(Gr[r]!=null)throw Fe.create("already-exists",{id:r});if(!Wd){yk(fa);const{wrappedGtag:i,gtagCore:o}=Sk(Gr,$d,Hd,fa,Dk);Qm=i,Vd=o,Wd=!0}return Gr[r]=Ok(e,$d,Hd,t,Vd,fa,n),new Lk(e)}function Fk(e=Qp()){e=an(e);const t=yr(e,qi);return t.isInitialized()?t.getImmediate():zk(e)}function zk(e,t={}){const n=yr(e,qi);if(n.isInitialized()){const s=n.getImmediate();if(Cn(t,n.getOptions()))return s;throw Fe.create("already-initialized")}return n.initialize({options:t})}function Bk(e,t,n,r){e=an(e),Ak(Qm,Gr[e.app.options.appId],t,n,r).catch(s=>je.error(s))}const qd="@firebase/analytics",Kd="0.10.18";function $k(){Pt(new pt(qi,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return Uk(r,s,n)},"PUBLIC")),Pt(new pt("analytics-internal",e,"PRIVATE")),ft(qd,Kd),ft(qd,Kd,"esm2020");function e(t){try{const n=t.getProvider(qi).getImmediate();return{logEvent:(r,s,i)=>Bk(n,r,s,i)}}catch(n){throw Fe.create("interop-component-reg-failed",{reason:n})}}}$k();const Hk={apiKey:"AIzaSyAjcC9GWGWtY0eLtMGV0oAJzw7q33BYEkA",authDomain:"accordai-cfcf3.firebaseapp.com",projectId:"accordai-cfcf3",storageBucket:"accordai-cfcf3.firebasestorage.app",messagingSenderId:"723454136762",appId:"1:723454136762:web:ebd8033f94443c212b8d83",measurementId:"G-G0324T1EM1"},Jm=Gp(Hk);Fk(Jm);const Vk=xE(Jm),_o=new xt;_o.setCustomParameters({prompt:"select_account"});_o.addScope("email");_o.addScope("profile");const Wk=()=>{const[e,t]=C.useState(null),[n,r]=C.useState(!0),[s,i]=C.useState(null),[o,a]=C.useState(!0),l=async()=>{try{if(e){const v=await ae.getTrialStatus();if(v&&v.success)return i(v),v}else{const v={isTrialActive:!0,trialStartTime:new Date,trialEndTime:new Date(Date.now()+18e5),remainingTime:1800,messageCount:0,maxMessages:10};return i(v),v}}catch(v){return console.error("Error checking trial status:",v),null}};return C.useEffect(()=>{(async()=>{r(!0);try{const h=localStorage.getItem("authToken");if(h&&h!=="null"&&h!=="undefined"){ae.setAuthToken(h);const d=await ae.verifyToken();d.success?(t(d.user),a(!1),await l()):(ae.clearAuthToken(),await l())}else await l()}catch(h){console.error("Auth check error:",h),ae.clearAuthToken(),await l()}finally{r(!1)}})()},[]),C.useEffect(()=>{if(s!=null&&s.isTrialActive){const v=setInterval(async()=>{await l()},3e4);return()=>clearInterval(v)}},[s,e]),{user:e,loading:n,trialStatus:s,isAnonymous:o,signUpWithEmail:async(v,h,d)=>{var g,w;try{r(!0);const _=await ae.register(v,h,d);if(_.success){const{token:I,user:k}=_;return ae.setAuthToken(I),t(k),a(!1),{success:!0,message:_.message}}else throw new Error(_.message)}catch(_){const I=((w=(g=_.response)==null?void 0:g.data)==null?void 0:w.message)||_.message||"Registration failed";throw new Error(I)}finally{r(!1)}},signInWithEmail:async(v,h)=>{var d,g;try{r(!0);const w=await ae.login(v,h);if(w.success){const{token:_,user:I}=w;return ae.setAuthToken(_),t(I),a(!1),{success:!0,message:w.message}}else throw new Error(w.message)}catch(w){const _=((g=(d=w.response)==null?void 0:d.data)==null?void 0:g.message)||w.message||"Login failed";throw new Error(_)}finally{r(!1)}},signInWithGoogle:async()=>{var v,h;try{r(!0),console.log("🔍 Starting REAL Google authentication with Firebase...");const d=await bS(Vk,_o);if(d&&d.user){const g=d.user,w={email:g.email,displayName:g.displayName||g.email.split("@")[0],photoURL:g.photoURL||"",googleId:g.uid};console.log("🔍 REAL Google auth successful, user data:",w);const _=await ae.googleSignIn(w);if(_.success){const{token:I,user:k}=_;return ae.setAuthToken(I),t(k),a(!1),console.log("✅ REAL Google authentication successful - No more demo accounts!"),{success:!0,message:"Google authentication successful"}}else throw new Error(_.data.message)}else throw new Error("No user data received from Google")}catch(d){console.error("Google authentication error:",d);let g="Google authentication failed";throw d.code==="auth/popup-blocked"?g="Popup was blocked by browser. Please allow popups and try again.":d.code==="auth/popup-closed-by-user"?g="Sign-in cancelled by user.":d.code==="auth/network-request-failed"?g="Network error. Please check your internet connection.":(h=(v=d.response)==null?void 0:v.data)!=null&&h.message?g=d.response.data.message:d.message&&(g=d.message),new Error(g)}finally{r(!1)}},requestPasswordReset:async v=>{var h,d;try{return r(!0),{success:!0,message:(await ae.post("/auth/forgot-password",{email:v.toLowerCase()})).data.message}}catch(g){const w=((d=(h=g.response)==null?void 0:h.data)==null?void 0:d.message)||g.message||"Password reset request failed";throw new Error(w)}finally{r(!1)}},resetPassword:async(v,h)=>{var d,g;try{return r(!0),{success:!0,message:(await ae.post("/auth/reset-password",{token:v,password:h})).data.message}}catch(w){const _=((g=(d=w.response)==null?void 0:d.data)==null?void 0:g.message)||w.message||"Password reset failed";throw new Error(_)}finally{r(!1)}},signOut:async()=>{var v,h;try{r(!0);try{await ae.post("/auth/logout")}catch(d){console.log("Backend logout error (ignored):",d)}return ae.clearAuthToken(),t(null),a(!0),await l(),{success:!0,message:"Signed out successfully"}}catch(d){const g=((h=(v=d.response)==null?void 0:v.data)==null?void 0:h.message)||d.message||"Sign out failed";throw new Error(g)}finally{r(!1)}},checkTrialStatus:l,getAuthToken:()=>localStorage.getItem("authToken")}},Ws="http://localhost:5000/api",qk=e=>{const[t,n]=C.useState(null),[r,s]=C.useState(!0),[i,o]=C.useState(null),a=t&&si.find(v=>v.id===t.planId)||si[0],l=(t==null?void 0:t.status)==="active"&&t.planId!=="free",c=t?Math.max(0,t.messagesLimit-t.messagesUsed):10,f=(a==null?void 0:a.messageLimit)===-1||c>0,m=async()=>{var v,h;if(!e){n(null),s(!1);return}try{s(!0);const d=await F.get(`${Ws}/subscription/status`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});d.data.success?n(d.data.subscription):n({id:"free_"+e,userId:e,planId:"free",status:"active",startDate:new Date,endDate:new Date(Date.now()+30*24*60*60*1e3),autoRenew:!1,messagesUsed:0,messagesLimit:10})}catch(d){console.error("Subscription status check error:",d),o(((h=(v=d.response)==null?void 0:v.data)==null?void 0:h.message)||"Failed to check subscription"),n({id:"free_"+(e||"anonymous"),userId:e||"anonymous",planId:"free",status:"active",startDate:new Date,endDate:new Date(Date.now()+30*24*60*60*1e3),autoRenew:!1,messagesUsed:0,messagesLimit:10})}finally{s(!1)}},p=async(v,h)=>{var d,g;try{s(!0),o(null);const w={planId:v};h&&(w.paymentId=h);const _=await F.post(`${Ws}/subscription/subscribe`,w,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(_.data.success)return n(_.data.subscription),{success:!0,message:_.data.message};throw new Error(_.data.message)}catch(w){const _=((g=(d=w.response)==null?void 0:d.data)==null?void 0:g.message)||"Failed to subscribe";return o(_),{success:!1,message:_}}finally{s(!1)}},x=async()=>{var v,h;try{s(!0),o(null);const d=await F.post(`${Ws}/subscription/cancel`,{userId:e},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(d.data.success)return await m(),{success:!0,message:d.data.message};throw new Error(d.data.message)}catch(d){const g=((h=(v=d.response)==null?void 0:v.data)==null?void 0:h.message)||"Failed to cancel subscription";return o(g),{success:!1,message:g}}finally{s(!1)}},y=async()=>{try{await F.post(`${Ws}/subscription/increment-usage`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),t&&n({...t,messagesUsed:t.messagesUsed+1})}catch(v){console.error("Failed to increment message count:",v)}},S=()=>{if(!t)return{used:0,limit:10,percentage:0};const v=t.messagesUsed,h=t.messagesLimit,d=h===-1?0:Math.round(v/h*100);return{used:v,limit:h,percentage:d}};return C.useEffect(()=>{m()},[e]),{subscription:t,loading:r,error:i,currentPlan:a,isSubscribed:l,canSendMessage:f,messagesRemaining:c,subscribeToPlan:p,cancelSubscription:x,incrementMessageCount:y,getUsageStats:S}};function Kk(){var Uc;const{messages:e,isLoading:t,error:n,sendMessage:r,sendFile:s,clearError:i}=Fw(),{user:o,loading:a,trialStatus:l,isAnonymous:c,signInWithGoogle:f,signInWithEmail:m,signUpWithEmail:p,requestPasswordReset:x,signOut:y,checkTrialStatus:S,getAuthToken:v}=Wk(),{subscription:h,currentPlan:d,canSendMessage:g,messagesRemaining:w,subscribeToPlan:_,incrementMessageCount:I,getUsageStats:k}=qk(o==null?void 0:o.id),N=C.useRef(null),[b,A]=C.useState(!1),[H,Oe]=C.useState(!1),[Ie,oe]=C.useState(!1),[wr,Le]=C.useState(!1),[xr,R]=C.useState(!1),[O,D]=C.useState(!1),[J,ee]=C.useState(!1),[Sr,pe]=C.useState(!1),Er=()=>{var z;(z=N.current)==null||z.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{Er()},[e,t]),C.useEffect(()=>{if(n){const z=setTimeout(()=>{i()},5e3);return()=>clearTimeout(z)}},[n,i]),C.useEffect(()=>{if(c&&l){const z=l.trialEndTime&&new Date>new Date(l.trialEndTime),W=l.messageCount>=l.maxMessages;(z||W)&&Le(!0)}},[c,l]);const yt=async z=>{if(o&&!g){console.log("🚫 Message limit reached for user, showing upgrade modal"),ee(!0),R(!0);return}if(c&&l){const W=l.trialEndTime&&new Date>new Date(l.trialEndTime),ue=l.messageCount>=l.maxMessages;if(W||ue){console.log("🚫 Trial limit reached, showing auth modal"),Le(!0);return}}try{const W=v();console.log("🚀 handleSendMessage:",{isAnonymous:c,hasUser:!!o,hasToken:!!W,userEmail:o==null?void 0:o.email,subscriptionStatus:h==null?void 0:h.status,currentPlan:d==null?void 0:d.name,canSendMessage:g,messagesRemaining:w}),await r(z,c,W||void 0),o!=null&&o.id&&h&&await I(),c&&await S()}catch(W){console.error("Error sending message:",W)}},Ln=async(z,W)=>{try{const ue=v();await s(z,W,c,ue||void 0),c&&await S()}catch(ue){console.error("Error processing file:",ue)}},Ym=t&&(e.length===0||e[e.length-1].role!=="assistant"),Xm=()=>{Oe(!1)},Zm=z=>{A(!1)};C.useEffect(()=>{},[Ie]);const eg=async()=>{try{await f(),pe(!0),setTimeout(()=>{Le(!1),pe(!1)},2e3)}catch(z){console.error("Google sign in error:",z)}},tg=async(z,W)=>{try{await m(z,W),pe(!0),setTimeout(()=>{Le(!1),pe(!1)},2e3)}catch(ue){throw console.error("Email sign in error:",ue),ue}},ng=async(z,W,ue)=>{try{await p(z,W,ue),pe(!0),setTimeout(()=>{Le(!1),pe(!1)},2e3)}catch(Fc){throw console.error("Email sign up error:",Fc),Fc}},rg=async z=>{try{await x(z),pe(!0),setTimeout(()=>{pe(!1)},3e3)}catch(W){throw console.error("Forgot password error:",W),W}},sg=async(z,W)=>{if(!o){Le(!0);return}try{console.log("🔄 Subscribing to plan:",z.name,W?"with payment ID:":"free plan",W);const ue=await _(z.id,W);ue.success?(console.log("✅ Subscription successful:",ue.message),R(!1),alert(`Successfully subscribed to ${z.name} plan!`)):(console.error("❌ Subscription failed:",ue.message),alert(ue.message))}catch(ue){console.error("Subscription error:",ue),alert("Failed to process subscription. Please try again.")}};return a?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-violet-900 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"animate-spin rounded-full h-24 w-24 sm:h-32 sm:w-32 border-4 border-purple-600 border-t-purple-400 border-r-violet-400 mx-auto"}),u.jsx("div",{className:"absolute inset-0 rounded-full h-24 w-24 sm:h-32 sm:w-32 border-4 border-transparent border-b-violet-500 border-l-purple-500 mx-auto animate-spin",style:{animationDirection:"reverse",animationDuration:"3s"}})]}),u.jsxs("div",{className:"mt-6 space-y-2",children:[u.jsx("p",{className:"text-purple-100 font-medium text-lg",children:"🌸 Accord AI"}),u.jsx("p",{className:"text-purple-300 text-sm",children:"Preparing your spiritual space..."})]})]})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 safe-area-inset-top safe-area-inset-bottom",children:[o&&!c&&h&&u.jsx("div",{className:"fixed top-2 left-2 z-40 max-w-xs",children:u.jsx(cd,{used:k().used,limit:k().limit,planName:(d==null?void 0:d.name)||"Free",onUpgrade:()=>R(!0),className:"shadow-lg"})}),c&&l&&u.jsx(ev,{trialStatus:l,onSignInClick:()=>Le(!0),isAnonymous:c}),u.jsx(Aw,{isOpen:xr,onClose:()=>R(!1),onSelectPlan:sg,currentPlan:(h==null?void 0:h.planId)||"free"}),u.jsx(Z0,{isOpen:wr,onClose:()=>Le(!1),onGoogleSignIn:eg,onEmailSignIn:tg,onEmailSignUp:ng,onForgotPassword:rg}),u.jsx(Ow,{isOpen:O,onClose:()=>D(!1)}),u.jsx(Lw,{isVisible:!!(J&&o&&!g),onUpgrade:()=>{ee(!1),R(!0)},onDismiss:()=>ee(!1),planName:(d==null?void 0:d.name)||"Free",messagesUsed:k().used,messageLimit:(d==null?void 0:d.messageLimit)||10}),u.jsxs("div",{className:"flex flex-col h-screen mobile-scroll",children:[u.jsx(Q0,{user:o,onSignOut:y,onSignInClick:()=>Le(!0),onDatasetClick:()=>D(!0),onUpgradeClick:()=>{console.log("🎯 Upgrade button clicked!"),R(!0)}}),o&&h&&u.jsx("div",{className:"px-2 sm:px-3 md:px-4 py-2",children:u.jsx(cd,{used:((Uc=k())==null?void 0:Uc.used)||0,limit:(d==null?void 0:d.messageLimit)||10,planName:(d==null?void 0:d.name)||"Free",onUpgrade:()=>R(!0),className:"max-w-4xl mx-auto"})}),u.jsx("div",{className:"flex-1 overflow-hidden pb-24",children:u.jsxs("div",{className:"h-full overflow-y-auto px-4 sm:px-6 lg:px-8 mobile-scroll",children:[n&&u.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 shadow-sm",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(lp,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:n})]})}),u.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[e.map((z,W)=>u.jsx(J0,{message:z,isTyping:t&&W===e.length-1&&z.role==="assistant",onAssistantSpoken:W===e.length-1&&z.role==="assistant"?Xm:void 0,isSpeaking:H&&W===e.length-1&&z.role==="assistant"},z.id)),Ym&&u.jsx(Y0,{})]}),u.jsx("div",{ref:N})]})}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 border-t border-slate-200 backdrop-blur-xl z-30 shadow-lg",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsx(X0,{onSendMessage:yt,onSendFile:Ln,isLoading:t,error:n,isListening:b,onVoiceInput:Zm,setIsListening:A,setIsTyping:oe,disabled:!!(o&&!g||c&&l&&(l.trialEndTime&&new Date>new Date(l.trialEndTime)||l.messageCount>=l.maxMessages))})})}),u.jsx(Mw,{}),u.jsx(Dw,{})]})]})}class Gk extends C.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error caught by boundary:",t,n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:u.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"An unexpected error occurred. Please refresh the page to try again."}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"}),u.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Try Again"})]}),!1]})})}):this.props.children}}ap(document.getElementById("root")).render(u.jsx(C.StrictMode,{children:u.jsx(Gk,{children:u.jsx(Kk,{})})}));
